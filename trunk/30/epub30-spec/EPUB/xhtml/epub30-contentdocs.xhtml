<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"/><title>EPUB Content Documents 3.0</title><link rel="stylesheet" type="text/css" href="../css/epub-spec.css"/></head><body><h1 class="title">EPUB Content Documents 3.0</h1><p class="identity"><span class="releaseinfo">Recommended Specification</span> <span class="pubdate">11 October 2011</span></p><dl class="printhistory"><dt>This version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-contentdocs-20111011.html">http://www.idpf.org/epub/30/spec/epub30-contentdocs-20111011.html</a> </dd><dt>Latest version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-contentdocs.html">http://www.idpf.org/epub/30/spec/epub30-contentdocs.html</a> </dd><dt>Previous version</dt><dd> <a href="http://www.idpf.org/epub/30/spec/epub30-contentdocs-20110908.html">http://www.idpf.org/epub/30/spec/epub30-contentdocs-20110908.html</a> </dd></dl><p class="diff"> A diff of changes from the previous draft is available at <a href="http://code.google.com/p/epub-revision/source/diff?spec=svn3218&amp;old=3183&amp;r=3218&amp;format=side&amp;path=%2Ftrunk%2Fsrc%2Fspec%2Fepub30-contentdocs.xml">this link</a>. </p><p class="errata"> Please refer to the <a href="http://idpf.org/epub/30/spec/epub30-contentdocs-errata/">errata</a> for this document, which may include some normative corrections. </p><div class="legal"><p class="copyright">Copyright © 2010, 2011 International Digital Publishing Forum™</p><div class="legalnotice" title="Legal Notice"><a id="d14232e48"/><p>All rights reserved. This work is protected under Title 17 of the United States Code. Reproduction and dissemination of this work with changes is prohibited except with the written permission of the <a href="http://www.idpf.org">International Digital Publishing Forum (IDPF)</a>. </p><p>EPUB is a registered trademark of the International Digital Publishing Forum.</p></div></div><div class="authorgroup"><p class="bridgehead">Editors</p><p class="editor">Markus Gylling, DAISY Consortium </p><p class="editor">William McCoy, International Digital Publishing Forum (IDPF) </p><p class="editor">Elika J. Etemad, Invited Expert </p><p class="editor">Matt Garrish, Invited Expert </p></div><nav class="toc" id="toc"><p><strong>Table of Contents</strong></p><ol><li><a href="#sec-overview">1. Overview</a></li><li><ol><li><a href="#sec-overview-purpose-and-scope">1.1. Purpose and Scope</a></li><li><a href="#sec-overview-relations">1.2. Relationship to Other Specifications</a></li><li><ol><li><a href="#sec-overview-relations-html">1.2.1. Relationship to HTML5</a></li><li><a href="#sec-overview-relations-svg">1.2.2. Relationship to SVG</a></li><li><a href="#sec-overview-relations-css">1.2.3. Relationship to CSS</a></li><li><a href="#sec-overview-versioning">1.2.4. EPUB 3 Versioning Strategy</a></li></ol></li><li><a href="#sec-conformance">1.4. Conformance Statements</a></li><li><a href="#sec-overview-nspfx">1.5. Namespace prefix mappings</a></li></ol></li><li><a href="#sec-contentdocs">2. EPUB Content Documents</a></li><li><ol><li><a href="#sec-xhtml">2.1. XHTML Content Documents</a></li><li><ol><li><a href="#sec-xhtml-conf-content">2.1.1. Content Conformance</a></li><li><a href="#sec-xhtml-conf-rs">2.1.2. Reading System Conformance</a></li><li><a href="#sec-xhtml-additions">2.1.3. HTML5 Extensions and Enhancements</a></li><li><ol><li><a href="#sec-xhtml-semantic-inflection">2.1.3.1. Semantic Inflection</a></li><li><ol><li><a href="#sec-xhtml-semantic-inflection-intro">2.1.3.1.1. Introduction</a></li><li><a href="#sec-xhtml-content-type-attribute">2.1.3.1.2. The <code>epub:type</code> Attribute</a></li><li><a href="#sec-contentdocs-vocab-association">2.1.3.1.3. Vocabulary Association</a></li><li><a href="#sec-contentdocs-semantic-inflection-processing-reqs">2.1.3.1.4. Processing Requirements</a></li></ol></li><li><a href="#sec-xhtml-ssml-attrib">2.1.3.2. SSML Attributes</a></li><li><ol><li><a href="#sec-cd-ssml-intro">2.1.3.2.1. Overview</a></li><li><a href="#sec-cd-ssml-ph-attrib">2.1.3.2.2. The <code>ssml:ph</code> attribute</a></li><li><a href="#sec-cd-ssml-alphabet-attrib">2.1.3.2.3. The <code>ssml:alphabet</code> attribute</a></li></ol></li><li><a href="#sec-xhtml-content-switch">2.1.3.3. Content Switching</a></li><li><ol><li><a href="#sec-xhtml-switch-intro">2.1.3.3.1. Introduction</a></li><li><a href="#sec-xhtml-switch-def">2.1.3.3.2. Definition</a></li><li><ol><li><a href="#sec-xhtml-epub-switch">2.1.3.3.2.1. The <code>epub:switch</code> Element</a></li><li><a href="#sec-xhtml-epub-case">2.1.3.3.2.2. The <code>epub:case</code> Element</a></li><li><a href="#sec-xhtml-epub-default">2.1.3.3.2.3. The <code>epub:default</code> Element</a></li></ol></li><li><a href="#sec-xhtml-switch-processing">2.1.3.3.3. Processing</a></li></ol></li><li><a href="#sec-xhtml-epub-trigger">2.1.3.4. The <code>epub:trigger</code> Element</a></li><li><a href="#sec-xhtml-alternate-style-tags">2.1.3.5. Alternate Style Tags</a></li></ol></li><li><a href="#sec-xhtml-deviations">2.1.4. HTML5 Deviations and Constraints</a></li><li><ol><li><a href="#sec-xhtml-mathml">2.1.4.1. Embedded MathML</a></li><li><ol><li><a href="#sec-xhtml-mathml-intro">2.1.4.1.1. Introduction</a></li><li><a href="#sec-xhtml-mathml-conf-content">2.1.4.1.2. Content Conformance</a></li><li><a href="#sec-xhtml-mathml-rs-conf">2.1.4.1.3. Reading System Conformance</a></li><li><a href="#sec-xhtml-mathml-alt">2.1.4.1.4. Alternative Content</a></li></ol></li><li><a href="#sec-xhtml-svg">2.1.4.2. Embedded SVG</a></li><li><ol><li><a href="#sec-xhtml-svg-css">2.1.4.2.1. Embedded SVG and CSS</a></li></ol></li><li><a href="#sec-xhtml-deviations-unicode">2.1.4.3. Unicode Restrictions</a></li><li><a href="#sec-xhtml-deviations-discouraged">2.1.4.4. Discouraged Constructs</a></li></ol></li></ol></li><li><a href="#sec-xhtml-nav">2.2. EPUB Navigation Documents</a></li><li><ol><li><a href="#sec-xhtml-nav-intro">2.2.1. Introduction</a></li><li><a href="#sec-xhtml-nav-content-conf">2.2.2. Content Conformance</a></li><li><a href="#sec-xhtml-nav-rs-conf">2.2.3. Reading System Conformance</a></li><li><a href="#sec-xhtml-nav-def">2.2.4. EPUB Navigation Document Definition</a></li><li><ol><li><a href="#sec-xhtml-nav-def-model">2.2.4.1. The <code>nav</code> Element: Restrictions</a></li><li><a href="#sec-xhtml-nav-def-types">2.2.4.2. The <code>nav</code> Element: Types</a></li><li><ol><li><a href="#sec-xhtml-nav-def-types-toc">2.2.4.2.1. The  <code>nav</code> Element</a></li><li><a href="#sec-xhtml-nav-def-types-pagelist">2.2.4.2.2. The  <code>nav</code> Element</a></li><li><a href="#sec-xhtml-nav-def-types-landmarks">2.2.4.2.3. The  <code>nav</code> Element</a></li><li><a href="#sec-xhtml-nav-def-types-other">2.2.4.2.4. Other <code>nav</code> Elements</a></li></ol></li><li><a href="#sec-xhtml-nav-def-hidden">2.2.4.3. The <code>hidden</code> attribute</a></li></ol></li></ol></li><li><a href="#sec-svg">2.3. SVG Content Documents</a></li><li><ol><li><a href="#sec-svg-intro">2.3.1. Introduction</a></li><li><a href="#sec-svg-content-conf">2.3.2. Content Conformance</a></li><li><a href="#sec-svg-restrictions">2.3.3. Restrictions on SVG 1.1</a></li><li><a href="#sec-svg-rs-conf">2.3.4. Reading System Conformance</a></li></ol></li><li><a href="#sec-scripted-content">2.4. Scripted Content Documents</a></li><li><ol><li><a href="#sec-scripted-context">2.4.1. Scripting Contexts</a></li><li><a href="#sec-scripted-content-content-reqs">2.4.2. Content Conformance</a></li><li><a href="#sec-scripted-content-rs-reqs">2.4.3. Reading System Conformance</a></li><li><a href="#sec-scripted-content-security">2.4.4. Security Considerations</a></li><li><a href="#sec-scripted-content-events">2.4.5. Event Model Considerations</a></li></ol></li></ol></li><li><a href="#sec-css">3. EPUB Style Sheets</a></li><li><ol><li><a href="#sec-css-content-conf">3.1. Content Conformance</a></li><li><a href="#sec-css-rs-conf">3.2. Reading System Conformance</a></li><li><a href="#sec-css-profile">3.3. EPUB 3 CSS Profile</a></li><li><ol><li><a href="#sec-css-2.1">3.3.1. CSS 2.1</a></li><li><a href="#sec-css-2.0-list-style-type">3.3.2. CSS 2.0</a></li><li><a href="#sec-css-voice-characteristics">3.3.3. CSS 3.0 Speech</a></li><li><a href="#sec-css-fonts">3.3.4. CSS Fonts Level 3</a></li><li><a href="#sec-css-text">3.3.5. CSS Text Level 3</a></li><li><a href="#sec-css-writing-modes">3.3.6. CSS Writing Modes</a></li><li><a href="#sec-css-media-queries">3.3.7. Media Queries</a></li><li><a href="#sec-css-namespaces">3.3.8. CSS Namespaces</a></li><li><a href="#sec-css-multi-column">3.3.9. CSS Multi-Column Layout</a></li><li><a href="#sec-css-ruby-position">3.3.10. Ruby Positioning</a></li><li><a href="#sec-css-oeb-head-foot">3.3.11. Display Property Values <code>oeb-page-head</code> and <code>oeb-page-foot</code></a></li></ol></li></ol></li><li><a href="#sec-pls">4. PLS Documents</a></li><li><ol><li><a href="#sec-pls-overview">4.1. Overview</a></li><li><a href="#sec-pls-conf-pub">4.2. EPUB Publication Conformance</a></li><li><a href="#sec-pls-conf-content">4.3. Content Conformance</a></li><li><a href="#sec-pls-conf-rs">4.4. Reading System Conformance</a></li></ol></li><li><a href="#app-schemas">A. Schemas</a></li><li><ol><li><a href="#app-xhtml-schema">A.1. XHTML Content Document Schema</a></li><li><a href="#app-xhtml-nav-schema">A.2. EPUB Navigation Document Schema</a></li><li><a href="#app-svg-schema">A.3. SVG Content Document Schema</a></li></ol></li><li><a href="#app-epubReadingSystem">B. JavaScript epubReadingSystem Object</a></li><li><ol><li><a href="#app-ers-syntax">B.1. Syntax</a></li><li><a href="#app-ers-desc">B.2. Description</a></li><li><a href="#app-ers-properties">B.3. Properties</a></li><li><a href="#app-ers-methods">B.4. Methods</a></li><li><ol><li><a href="#app-ers-hasFeature">B.4.1. hasFeature</a></li><li><ol><li><a href="#app-ers-hasFeature-syntax">B.4.1.1. Syntax</a></li><li><a href="#app-ers-hasFeature-desc">B.4.1.2. Description</a></li><li><a href="#app-ers-hasFeature-features">B.4.1.3. Features</a></li></ol></li></ol></li></ol></li></ol></nav><section class="chapter" title="1 Overview" id="sec-overview"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview">›</a> </span>1 Overview</h2><section class="section" title="1.1 Purpose and Scope" id="sec-overview-purpose-and-scope"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-purpose-and-scope">›</a> </span>1.1 Purpose and Scope</h3><p class="informative"> This section is informative</p><p>This specification, EPUB Content Documents 3.0, defines profiles of HTML5, SVG, and CSS for use in the context of <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB® Publications</a>. </p><p id="sibling-specs">This specification is one of a family of related specifications that compose EPUB 3, the third major revision of an interchange and delivery format for digital publications based on XML and Web Standards. It is meant to be read and understood in concert with the other specifications that make up EPUB 3:</p><div class="itemizedlist" id="epub-specs-listing"><ul class="itemizedlist"><li class="listitem"><p>The EPUB 3 Overview <a class="biblioref" href="epub30-references.xhtml#refEPUB3Overview" title="EPUB 3 Overview">[<abbr>EPUB3Overview</abbr>]</a>, which provides an informative overview of EPUB and a roadmap to the rest of the EPUB 3 documents. The Overview should be read first.</p></li><li class="listitem"><p>EPUB Publications 3.0 <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a>, which defines publication-level semantics and overarching conformance requirements for <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s.</p></li><li class="listitem"><p>EPUB Open Container Format (OCF) 3.0 <a class="biblioref" href="epub30-references.xhtml#refOCF30" title="Open Container Format 3.0">[<abbr>OCF3</abbr>]</a>, which defines a file format and processing model for encapsulating a set of related resources into a single-file (ZIP) <a class="glossterm" href="epub30-terminology.xhtml#gloss-container" title="EPUB Container (or Container)">EPUB Container</a>. </p></li><li class="listitem"><p>EPUB Media Overlays 3.0 <a class="biblioref" href="epub30-references.xhtml#refOverlays3" title="EPUB Media Overlays 3.0">[<abbr>MediaOverlays30</abbr>]</a>, which defines a format and a processing model for synchronization of text and audio.</p></li></ul></div><p>This specification supersedes Open Publication Structure (OPS) 2.0.1 <a class="biblioref" href="epub30-references.xhtml#refOPS2" title="Open Publication Structure 2.0.1">[<abbr>OPS2</abbr>]</a>. Refer to <a class="biblioref" href="epub30-references.xhtml#refEPUB3Changes" title="EPUB 3 Differences from EPUB 2.0.1">[<abbr>EPUB3Changes</abbr>]</a> for information on differences between this specification and its predecessor.</p></section><section class="section" title="1.2 Relationship to Other Specifications" id="sec-overview-relations"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-relations">›</a> </span>1.2 Relationship to Other Specifications</h3><p class="informative"> This section is informative</p><section class="section" title="1.2.1 Relationship to HTML5" id="sec-overview-relations-html"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-relations-html">›</a> </span>1.2.1 Relationship to HTML5</h4><p>The <a href="#sec-xhtml" title="2.1 XHTML Content Documents">XHTML document type defined by this specification</a> is based on W3C <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a>, and inherits all definitions of semantics, structure and processing behaviors from the HTML5 specification unless otherwise specified.</p><p>In addition, this specification <a href="#sec-xhtml-additions" title="2.1.3 HTML5 Extensions and Enhancements">defines a set of extensions</a> to the W3C HTML5 document model that <a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s may include in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s.</p><p>This specification defines a simplified processing model that does not require Reading Systems to support scripting, HTML5 forms or the HTML5 DOM. <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a>s conformant with this specification are only required to be able to process a conforming <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>. As <a href="#sec-scripted-content-rs-reqs" title="2.4.3 Reading System Conformance">support for scripting and HTML5 forms</a> are optional Reading System features, a conformant Reading System might not be a fully-conformant HTML5 User Agent (i.e., it might not implement the complete HTML5 processing model).</p></section><section class="section" title="1.2.2 Relationship to SVG" id="sec-overview-relations-svg"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-relations-svg">›</a> </span>1.2.2 Relationship to SVG</h4><p>This specification defines <a href="#sec-svg" title="2.3 SVG Content Documents">a restricted subset of SVG 1.1</a> to represent vector graphics inline in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s and as standalone <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s. </p></section><section class="section" title="1.2.3 Relationship to CSS" id="sec-overview-relations-css"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-relations-css">›</a> </span>1.2.3 Relationship to CSS</h4><p>The <a href="#sec-css" title="3 EPUB Style Sheets">CSS profile</a> defined in this specification has CSS 2.1 <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a> as its baseline. Any CSS Style Sheet that conforms to CSS 2.1 may be used in the context of an EPUB Publication, except as noted in <a class="xref" href="#sec-css-2.1" title="3.3.1 CSS 2.1">CSS 2.1</a>. </p><p>This specification also incorporates features defined by CSS3 Modules and introduces EPUB-specific CSS constructs.</p></section><section class="section" title="1.2.4 EPUB 3 Versioning Strategy" id="sec-overview-versioning"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-versioning">›</a> </span>1.2.4 EPUB 3 Versioning Strategy</h4><p id="sec-overview-versionining"> EPUB 3 references W3C specifications that are not yet final, and incompatible changes to them may occur in the future that would cause EPUB 3 Content Documents that were previously conformant to no longer be conformant to the latest versions of the referenced specifications.</p><p>The IDPF anticipates revising the EPUB 3 specifications if and when such incompatible changes occur, updating the normative constraints defined herein as necessary and incrementing the minor version number of EPUB 3 (e.g., publishing an EPUB 3.0.<code class="literal">n</code>). </p></section></section><section class="section" title="1.4 Conformance Statements" id="sec-conformance"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-conformance">›</a> </span>1.4 Conformance Statements</h3><p>The keywords "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class="biblioref" href="epub30-references.xhtml#refRFC2119" title="Key words for use in RFCs to Indicate Requirement Levels (RFC 2119)">[<abbr>RFC2119</abbr>]</a>. </p><p>All sections of this specification are normative except where identified by the informative status label "This section is informative". The application of informative status to sections and appendices applies to all child content and subsections they may contain.</p><p>All examples in this specification are informative.</p></section><section class="section" title="1.5 Namespace prefix mappings" id="sec-overview-nspfx"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-overview-nspfx">›</a> </span>1.5 Namespace prefix mappings</h3><p>For convenience, the following namespace prefix mappings <a class="biblioref" href="epub30-references.xhtml#refXMLNamespaces" title="Namespaces in XML (Third Edition)">[<abbr>XMLNS</abbr>]</a> are used throughout this specification:</p><table id="tbl-nspfx"><tr> <th class="left">prefix</th> <th class="odd">namespace URI</th> </tr><tr> <td class="left"> <code class="literal">epub</code> </td> <td class="odd"> <code class="literal">http://www.idpf.org/2007/ops</code> </td> </tr><tr> <td class="left"> <code class="literal">m</code> </td> <td class="odd"> <code class="literal">http://www.w3.org/1998/Math/MathML</code> </td> </tr><tr> <td class="left"> <code class="literal">pls</code> </td> <td class="odd"> <code class="literal">http://www.w3.org/2005/01/pronunciation-lexicon</code> </td> </tr><tr> <td class="left"> <code class="literal">ssml</code> </td> <td class="odd"> <code class="literal">http://www.w3.org/2001/10/synthesis</code> </td> </tr><tr> <td class="left"> <code class="literal">svg</code> </td> <td class="odd"> <code class="literal">http://www.w3.org/2000/svg</code> </td> </tr></table></section></section><section class="chapter" title="2 EPUB Content Documents" id="sec-contentdocs"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-contentdocs">›</a> </span>2 EPUB Content Documents</h2><section class="section" title="2.1 XHTML Content Documents" id="sec-xhtml"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml">›</a> </span>2.1 XHTML Content Documents</h3><p>This section defines a profile of <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> for creating XHTML Content Documents. An instance of an XML document that conforms to this profile is a <a class="glossterm" href="epub30-terminology.xhtml#gloss-core-media-type" title="Core Media Type">Core Media Type</a> and is referred to in this specification and its <a href="#sibling-specs">sibling specifications</a> as an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>. </p><p>Unless otherwise specified, this specification inherits all definitions of semantics, structure and processing behaviors from the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> specification. </p><div class="caution" title="caution" id="caution-html5"><h3 class="title">caution</h3><p>The EPUB 3 XHTML Content Document definition references features in the W3C <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> specification that are still works in progress and may change in incompatible ways. When utilizing such features, authors should consider the inherent risks in terms of the potential impact on interoperability and document longevity.</p></div><section class="section" title="2.1.1 Content Conformance" id="sec-xhtml-conf-content"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-conf-content">›</a> </span>2.1.1 Content Conformance</h4><p>An <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> must meet all of the following criteria:</p><div class="conformance-list" id="confreq-cd-xhtml"><dl><dt class="varlistentry" id="confreq-cd-xhtml-docprops"><span class="term">Document Properties</span></dt><dd><p id="confreq-cd-xhtml-xml"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-xml">›</a> </span> <span class="phrase">It must meet the conformance constraints for XML documents defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-xml-constraints">XML Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </span> </p><p id="confreq-cd-xhtml-docprops-syntax"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-docprops-syntax">›</a> </span>It must use the <a href="http://www.w3.org/TR/html5/Overview.html#the-xhtml-syntax">XHTML syntax</a> <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a>. </p><p id="confreq-cd-xhtml-docprops-schema"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-docprops-schema">›</a> </span>It must be valid to the XHTML Content Document schema as defined in <a class="xref" href="#app-xhtml-schema" title="A.1 XHTML Content Document Schema">XHTML Content Document Schema</a>. </p><p id="confreq-cd-xhtml-docprops-html5"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-docprops-html5">›</a> </span>For all document constructs used that are defined by <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a>, it must conform to the conformance criteria defined for those constructs in that specification, unless explicitly overridden in <a class="xref" href="#sec-xhtml-deviations" title="2.1.4 HTML5 Deviations and Constraints">HTML5 Deviations and Constraints</a>. </p><p id="confreq-cd-xhtml-docprops-def"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-docprops-def">›</a> </span>It must conform to all content conformance constraints defined in <a class="xref" href="#sec-xhtml-additions" title="2.1.3 HTML5 Extensions and Enhancements">HTML5 Extensions and Enhancements</a>. </p></dd><dt class="varlistentry" id="confreq-cd-xhtml-fileprops"><span class="term">File Properties</span></dt><dd><p id="confreq-cd-xhtml-fileprops-name"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-xhtml-fileprops-name">›</a> </span>The XHTML Content Document filename should use the file extension <code class="filename">.xhtml</code>.</p></dd></dl></div><div class="note" title="note" id="note-cd-xhtml-refprops-pkg"><h3 class="title">note</h3><p>All <a class="glossterm" href="epub30-terminology.xhtml#gloss-publication-resource-cmt-or-foreign" title="Publication Resource">Publication Resource</a>s referenced from an XHTML Content Document must conform to the constraints for Publication Resources defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conf">EPUB Publication — Content Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></p></div></section><section class="section" title="2.1.2 Reading System Conformance" id="sec-xhtml-conf-rs"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-conf-rs">›</a> </span>2.1.2 Reading System Conformance</h4><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> must meet all of the following criteria for processing <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s:</p><div class="conformance-list" id="xhtml-rs-confreqs"><ul class="conformance-list"><li class="listitem"><p id="confreq-xhtml-rs-behavior"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-behavior">›</a> </span>Unless explicitly defined by this specification or its <a href="#sibling-specs">sibling specifications</a> as overridden, it must process XHTML Content Documents using semantics defined by the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> specification and honor any applicable User Agent conformance constraints expressed therein.</p></li><li class="listitem"><p id="confreq-xhtml-rs-behavior-add"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-behavior-add">›</a> </span>It must meet all Reading System conformance criteria defined in <a class="xref" href="#sec-xhtml-additions" title="2.1.3 HTML5 Extensions and Enhancements">HTML5 Extensions and Enhancements</a>. </p></li><li class="listitem"><p id="confreq-xhtml-rs-behavior-restr"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-behavior-restr">›</a> </span>It must recognize and adapt behaviorally to the constraints defined in <a class="xref" href="#sec-xhtml-deviations" title="2.1.4 HTML5 Deviations and Constraints">HTML5 Deviations and Constraints</a>. </p></li><li class="listitem"><p id="confreq-xhtml-rs-scrpt"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-scrpt">›</a> </span>It must meet the Reading System conformance criteria defined in <a class="xref" href="#sec-scripted-content-rs-reqs" title="2.4.3 Reading System Conformance">Scripted Content Documents — Reading System Conformance</a>. </p></li><li class="listitem"><p id="confreq-xhtml-rs-css"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-css">›</a> </span>It must support visual rendering of XHTML Content Documents as defined in <a class="xref" href="#sec-css-rs-conf" title="3.2 Reading System Conformance">EPUB Style Sheets — Reading System Conformance</a>. </p></li><li class="listitem"><p id="confreq-xhtml-rs-a11y"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-rs-a11y">›</a> </span>It should recognize embedded ARIA markup and support exposure of any given ARIA roles, states and properties to platform accessibility APIs <a class="biblioref" href="epub30-references.xhtml#refARIA" title="Accessible Rich Internet Applications (WAI-ARIA) 1.0">[<abbr>WAI-ARIA</abbr>]</a>. </p></li></ul></div></section><section class="section" title="2.1.3 HTML5 Extensions and Enhancements" id="sec-xhtml-additions"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-additions">›</a> </span>2.1.3 HTML5 Extensions and Enhancements</h4><p>This section defines EPUB 3 <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> extensions to the underlying <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> document model.</p><section class="section" title="2.1.3.1 Semantic Inflection" id="sec-xhtml-semantic-inflection"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-semantic-inflection">›</a> </span>2.1.3.1 Semantic Inflection</h5><section class="section" title="2.1.3.1.1 Introduction" id="sec-xhtml-semantic-inflection-intro"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-semantic-inflection-intro">›</a> </span>2.1.3.1.1 Introduction</h6><p class="informative"> This section is informative</p><p>Semantic inflection is the process of attaching additional meaning about the specific purpose and/or nature an element plays in an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>. In the context of <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s, the <code><a href="#attrdef-epub-type">epub:type</a></code> attribute is typically used to express domain-specific semantics, with the inflection(s) it carries complementing the underlying <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> host vocabulary. The applied semantics always refine the meaning of their containing elements, never override their nature (e.g., the attribute can be used to indicate a <code>section</code> is a chapter in a work, but cannot be used to turn <code>p</code> elements into list items to avoid proper list structures).</p><p>Semantic metadata is not intended for human consumption; it instead provides a controlled way for Reading Systems and other User Agents to learn more about the structure and content of a document, providing them the opportunity to enhance the reading experience for Users. </p><p>This specification defines a method for semantic inflection using <em>the attribute axis</em>: instead of adding new XML elements to the XHTML Content Document vocabulary, the <code>epub:type</code> attribute can be appended to existing elements to inflect the desired semantics. A mechanism to identify external vocabularies that provide controlled values for the attributes is also defined.</p></section><section class="section" title="2.1.3.1.2 The epub:type Attribute" id="sec-xhtml-content-type-attribute"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-content-type-attribute">›</a> </span>2.1.3.1.2 The <code>epub:type</code> Attribute</h6><p>The <code>epub:type</code> attribute inflects semantics on the element on which it appears. Its value is one or more space-separated terms stemming from external vocabularies associated with the document instance, as defined in <a class="xref" href="#sec-contentdocs-vocab-association" title="2.1.3.1.3 Vocabulary Association">Vocabulary Association</a>. </p><p>The inflected semantic must express a subclass of the semantic of the carrying element. In the case of semantically neutral elements (such as <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-div-element">div</a></code> and <code><a href="http://www.w3.org/TR/html5/Overview.html#the-span-element">span</a></code>), the inflected semantic must not attach a meaning that is already conveyed by an existing element (e.g., that a <code>div</code> represents a paragraph or section). Reading Systems must <a href="#confreq-rs-epubtype-prec">ignore inflected semantics</a> that conflict with the carrying element.</p><div class="note" title="note"><h3 class="title">note</h3><p>The <code>epub:type</code> attribute is intended to be functionally equivalent to the W3C Role Attribute <a class="biblioref" href="epub30-references.xhtml#refPFRoleAttribute" title="Role Attribute">[<abbr>Role</abbr>]</a>, but with restrictions as specified in <a class="xref" href="#sec-contentdocs-vocab-association" title="2.1.3.1.3 Vocabulary Association">Vocabulary Association</a>. </p></div><div class="elem-synopsis" id="attrdef-epub-type"><dl><dt class="varlistentry"><span class="term">Attribute Name</span></dt><dd><p> <code class="literal">type</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.idpf.org/2007/ops</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>May be specified on all elements.</p></dd><dt class="varlistentry"><span class="term">Value</span></dt><dd><p>A space-separated list of <span class="phrase"><a href="epub30-publications.xhtml#sec-property-datatype">property</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> values, with restrictions as defined in <a class="xref" href="#sec-contentdocs-vocab-association" title="2.1.3.1.3 Vocabulary Association">Vocabulary Association</a>. </p></dd></dl></div></section><section class="section" title="2.1.3.1.3 Vocabulary Association" id="sec-contentdocs-vocab-association"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-contentdocs-vocab-association">›</a> </span>2.1.3.1.3 Vocabulary Association</h6><p>This specification adopts the vocabulary association mechanisms defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-metadata-assoc">Vocabulary Association Mechanisms</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>, with the following modifications: </p><p class="bridgehead" title="2.1.3.1.3. Default Vocabulary" id="sec-contentdocs-default-vocab">Default Vocabulary</p><p>The default vocabulary for Content Documents is defined to be the <a class="biblioref" href="epub30-references.xhtml#refEPUBStructureVocab" title="EPUB 3 Structural Semantics Vocabulary">EPUB 3 Structural Semantics Vocabulary</a>. </p><p class="bridgehead" title="2.1.3.1.3. Reserved Vocabularies" id="sec-contentdocs-reserved-vocabs">Reserved Vocabularies</p><p>This specification does not reserve any prefixes.</p><p class="bridgehead" title="2.1.3.1.3. The ???TITLE??? Attribute" id="sec-contentdocs-prefix-attr">The <code>prefix</code> Attribute</p><p>The <code>prefix</code> attribute definition is unchanged, but the attribute is defined to be in the namespace <code class="uri">http://www.idpf.org/2007/ops</code> when used in Content Documents.</p><p class="bridgehead" title="2.1.3.1.3. Examples">Examples</p><div class="informalexample" id="ex.epubtype.note"><p>The following example shows the <code>epub:type</code> attribute used to inflect footnote and note reference semantics. The properties used are defined in the <a href="#sec-contentdocs-default-vocab" title="2.1.3.1.3. Default Vocabulary">default vocabulary</a>. </p><pre class="synopsis">
&lt;html … xmlns:epub="http://www.idpf.org/2007/ops"&gt;&#x0D;
    …&#x0D;
    &lt;p&gt; … &lt;a epub:type="noteref" href="#n1"&gt;1&lt;/a&gt; … &lt;/p&gt;    &#x0D;
    …&#x0D;
    &lt;aside epub:type="footnote" id="n1"&gt;&#x0D;
        …    &#x0D;
    &lt;/aside&gt;&#x0D;
    …&#x0D;
&lt;/html&gt;    </pre></div><div class="informalexample" id="ex.epubtype.gloss"><p>The following example shows the <code>epub:type</code> attribute used to inflect glossary semantics on an HTML5 definition list. The property used is defined in the <a href="#sec-contentdocs-default-vocab" title="2.1.3.1.3. Default Vocabulary">default vocabulary</a>. </p><pre class="synopsis">
&lt;html … xmlns:epub="http://www.idpf.org/2007/ops"&gt;&#x0D;
    …&#x0D;
    &lt;dl epub:type="glossary"&gt;&#x0D;
        …    &#x0D;
    &lt;/dl&gt;        &#x0D;
    …&#x0D;
&lt;/html&gt;    </pre></div><div class="informalexample" id="ex.epubtype.pg"><p>The following example shows the <code>epub:type</code> attribute used to inflect source publication pagebreak semantics. The property used is defined in the <a href="#sec-contentdocs-default-vocab" title="2.1.3.1.3. Default Vocabulary">default vocabulary</a>. (Note that the <span class="phrase"><a href="epub30-publications.xhtml#sec-opf-dcsource">dc:source</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> element provides a means of identifying the source publication to which the given pagination information applies.)</p><pre class="synopsis">
&lt;html … xmlns:epub="http://www.idpf.org/2007/ops"&gt;&#x0D;
   …&#x0D;
  &lt;p&gt; … &lt;span epub:type="pagebreak" title="234"/&gt; … &lt;/p&gt;    &#x0D;
   … &#x0D;
&lt;/html&gt;   </pre></div></section><section class="section" title="2.1.3.1.4 Processing Requirements" id="sec-contentdocs-semantic-inflection-processing-reqs"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-contentdocs-semantic-inflection-processing-reqs">›</a> </span>2.1.3.1.4 Processing Requirements</h6><p>A Reading System must process the <code>epub:type</code> attribute as follows:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-rs-epubtype-beh"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-epubtype-beh">›</a> </span>It may associate specialized behaviors with none, some or all of the terms defined in the <a href="#sec-contentdocs-default-vocab" title="2.1.3.1.3. Default Vocabulary">default vocabulary</a>. </p></li><li class="listitem" id="confreq-rs-epubtype-oth"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-epubtype-oth">›</a> </span>It may associate specialized behaviors with terms given in vocabularies other than the default.</p></li><li class="listitem" id="confreq-rs-epubtype-ign"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-epubtype-ign">›</a> </span>It must ignore terms that it does not recognize.</p></li></ul></div><p id="confreq-rs-epubtype-prec">When Reading System behavior associated with a given <code>epub:type</code> value conflicts with behavior associated with the carrying element, the behavior associated with the element must be given precedence.</p></section></section><section class="section" title="2.1.3.2 SSML Attributes" id="sec-xhtml-ssml-attrib"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-ssml-attrib">›</a> </span>2.1.3.2 SSML Attributes</h5><section class="section" title="2.1.3.2.1 Overview" id="sec-cd-ssml-intro"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-cd-ssml-intro">›</a> </span>2.1.3.2.1 Overview</h6><p>The W3C Speech Synthesis Markup Language <a class="biblioref" href="epub30-references.xhtml#refSSML" title="Speech Synthesis Markup Language (SSML) Version 1.1">[<abbr>SSML</abbr>]</a> is a language used for assisting <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> engines in generating synthetic speech. Although SSML is designed as a standalone document type, it also defines semantics suitable for use within other host languages.</p><p>This specification recasts the <a href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10">SSML 1.1 <code>phoneme</code> element</a> as two attributes — <code>ssml:ph</code> and <code>ssml:alphabet</code> — and makes them available within EPUB XHTML Content Documents.</p><p>Reading Systems with <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> capabilities should support the SSML Attributes as defined below.</p><div class="note" title="note"><h3 class="title">note</h3><p>For more information on EPUB 3 features related to synthetic speech, refer to <span class="phrase"><a href="epub30-overview.xhtml#sec-tts">Text-to-speech</a> <a class="biblioref" href="epub30-references.xhtml#refEPUB3Overview" title="EPUB 3 Overview">[<abbr>EPUB3Overview</abbr>]</a></span>.</p></div></section><section class="section" title="2.1.3.2.2 The ssml:ph attribute" id="sec-cd-ssml-ph-attrib"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-cd-ssml-ph-attrib">›</a> </span>2.1.3.2.2 The <code>ssml:ph</code> attribute</h6><p>The <code>ssml:ph</code> attribute specifies a phonemic/phonetic pronunciation of the text represented by the element to which the attribute is attached.</p><div class="elem-synopsis" id="attrdef-ssml-ph"><dl><dt class="varlistentry"><span class="term">Attribute Name</span></dt><dd><p> <code class="literal">ph</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.w3.org/2001/10/synthesis</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>May be specified on all elements with which a phonetic equivalent can logically be associated (e.g., elements that contain textual information).</p><p>Must not be specified on a descendant of an element that already carries this attribute.</p></dd><dt class="varlistentry"><span class="term">Value</span></dt><dd><p>A phonemic/phonetic expression, syntactically valid with respect to <a href="#sec-cd-ssml-alphabet-attrib" title="2.1.3.2.3 The ssml:alphabet attribute">the phonemic/phonetic alphabet being used</a>. </p></dd></dl></div><p>This attribute inherits all the semantics of the <a class="biblioref" href="epub30-references.xhtml#refSSML" title="Speech Synthesis Markup Language (SSML) Version 1.1">SSML 1.1</a> <code>phoneme</code> element <a href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10"> <code>ph</code> attribute</a>, with the following addition:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="ssml-ph-concat"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#ssml-ph-concat">›</a> </span> When the <code>ssml:ph</code> attribute appears on an element that has text node descendants, the corresponding document text to which the pronunciation applies is the string that results from concatenating the descendant text nodes, in document order. The specified phonetic pronunciation must therefore logically match the element's textual data in its entirety (i.e., not just an isolated part of its content).</p></li></ul></div><div class="note" title="note"><h3 class="title">note</h3><p>Reading Systems that support the SSML Attributes and <a href="#sec-pls" title="4 PLS Documents">PLS Documents</a> must honor the defined <a href="#confreq-pls-rs-casc">precedence rules</a> for these two constructs. </p></div></section><section class="section" title="2.1.3.2.3 The ssml:alphabet attribute" id="sec-cd-ssml-alphabet-attrib"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-cd-ssml-alphabet-attrib">›</a> </span>2.1.3.2.3 The <code>ssml:alphabet</code> attribute</h6><p>The <code>ssml:alphabet</code> attribute specifies which phonemic/phonetic pronunciation alphabet is used in the value of the <a class="xref" href="#attrdef-ssml-ph">ssml:ph</a> attribute.</p><div class="elem-synopsis" id="attrdef-ssml-alphabet"><dl><dt class="varlistentry"><span class="term">Attribute Name</span></dt><dd><p> <code class="literal">alphabet</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.w3.org/2001/10/synthesis</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>Global, may be specified on any element.</p></dd><dt class="varlistentry"><span class="term">Value</span></dt><dd><p>The name of the pronunciation alphabet used in the value of <code><a class="xref" href="#attrdef-ssml-ph">ssml:ph</a></code> (inherited). </p></dd></dl></div><p>This attribute inherits all the semantics of the <a class="biblioref" href="epub30-references.xhtml#refSSML" title="Speech Synthesis Markup Language (SSML) Version 1.1">SSML 1.1</a> <code>phoneme</code> element <a href="http://www.w3.org/TR/speech-synthesis11/#S3.1.10"> <code>alphabet</code> attribute</a>, with the following addition:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="ssml-alphabet-inherit"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#ssml-alphabet-inherit">›</a> </span>The value of the <code>ssml:alphabet</code> attribute is inherited in the document tree. The pronunciation alphabet used in a given <code>ssml:ph</code> attribute value is determined by locating the first occurrence of the <code>ssml:alphabet</code> attribute starting with the element on which the <code>ssml:ph</code> attribute appears, followed by the nearest ancestor element.</p></li></ul></div><p>Reading Systems that support the <a href="#sec-xhtml-ssml-attrib" title="2.1.3.2 SSML Attributes">SSML Attributes</a> feature of this specification should support the <code class="literal">ipa</code> alphabet.</p></section></section><section class="section" title="2.1.3.3 Content Switching" id="sec-xhtml-content-switch"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-content-switch">›</a> </span>2.1.3.3 Content Switching</h5><section class="section" title="2.1.3.3.1 Introduction" id="sec-xhtml-switch-intro"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-switch-intro">›</a> </span>2.1.3.3.1 Introduction</h6><p class="informative"> This section is informative</p><p>The <code>switch</code> element provides a simple mechanism through which Authors can tailor the Publication content displayed to Users, one that isn't dependent on the scripting capabilities of the Reading System.</p><p>Reading System developers may choose to support XML vocabularies and new HTML elements that are not valid in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s. The <code>switch</code> mechanism encourages this type of development and experimentation, but at the same time provides Authors who wish to take advantage of it the security of knowing that their content will still display on any compliant Reading System (i.e., it maintains the baseline requirement that all XHTML Content Documents be valid if none of the specialized markup is supported).</p><p>Content switching is not just about encouraging future development, however; it can also be used to create Publications that maintain a level of compatibility with older Reading Systems unable to handle the new features of EPUB 3. For example, instances of MathML, now a native type, could be added using <code>switch</code> elements so that EPUB 2 Reading Systems could instead provide fallback images or text.</p></section><section class="section" title="2.1.3.3.2 Definition" id="sec-xhtml-switch-def"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-switch-def">›</a> </span>2.1.3.3.2 Definition</h6><section class="section" title="2.1.3.3.2.1 The epub:switch Element" id="sec-xhtml-epub-switch"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-epub-switch">›</a> </span>2.1.3.3.2.1 The <code>epub:switch</code> Element</h6><p>The <code>switch</code> element allows an XML fragment to be conditionally inserted into the content model of an XHTML Content Document.</p><div class="elem-synopsis" id="elemdef-switch"><dl><dt class="varlistentry"><span class="term">Element name</span></dt><dd><p> <code class="literal">switch</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.idpf.org/2007/ops</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>In <a href="http://www.w3.org/TR/html5/Overview.html#flow-content-0">Flow</a> and <a href="http://www.w3.org/TR/html5/Overview.html#phrasing-content-0">Inline</a> content. Repeatable.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry" id="attrdef-switch-id"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>In this order: <code class="literal"><a class="codelink" href="#sec-xhtml-epub-case" title="2.1.3.3.2.2 The epub:case Element">case</a></code> <code class="option">[1 or more]</code>, <code class="literal"><a class="codelink" href="#sec-xhtml-epub-default" title="2.1.3.3.2.3 The epub:default Element">default</a></code> <code class="option">[exactly 1]</code>.</p></dd></dl></div><p>A Reading System must individually process each <code>switch</code> element in a document to determine whether it can render any of the child <code><a href="#elemdef-case">case</a></code> elements (as determined by the value of their <code><a href="#attrdef-case-required-namespace">required-namespace</a></code> attributes).</p><p>For each <code>switch</code> encountered, the Reading System should render the content of the first <code>case</code> it supports, but is free to select from any of the available options. If the Reading System does not support the markup contained in any of the child <code>case</code> elements, it must render the contents of the <code><a href="#elemdef-default">default</a></code> element.</p><p>The <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-object-element">object</a></code> element should be used to embed custom (non-core) content types in XHTML Content Documents. Custom markup should be wrapped in a <code>switch</code> element only when the content it represents is an integral part of the document and depends on the context of the document to be properly processed.</p><p class="bridgehead" title="2.1.3.3.2.1. Examples">Examples</p><div class="informalexample"><p>An example of ChemML markup inserted using the <code>switch</code> element.</p><pre class="synopsis">&lt;epub:switch id="cmlSwitch"&gt;
   
   &lt;epub:case required-namespace="http://www.xml-cml.org/schema"&gt;
      &lt;cml xmlns="http://www.xml-cml.org/schema"&gt;
         &lt;molecule id="sulfuric-acid"&gt;
            &lt;formula id="f1" concise="H 2 S 1 O 4"/&gt;
         &lt;/molecule&gt;
      &lt;/cml&gt;
   &lt;/epub:case&gt;
   
   &lt;epub:default&gt;
      &lt;p&gt;H&lt;sub&gt;2&lt;/sub&gt;SO&lt;sub&gt;4&lt;/sub&gt;&lt;/p&gt;
   &lt;/epub:default&gt;
   
&lt;/epub:switch&gt;
</pre></div><div class="informalexample"><p>An example of adding MathML markup for compliance with EPUB 2 Reading Systems.</p><pre class="synopsis">&lt;epub:switch id="mathmlSwitch"&gt;
   
   &lt;epub:case required-namespace="http://www.w3.org/1998/Math/MathML"&gt;
      &lt;math xmlns="http://www.w3.org/1998/Math/MathML"&gt;
         &lt;mrow&gt;
            &lt;mn&gt;2&lt;/mn&gt;
            &lt;mo&gt; &amp;#x2061;&lt;!--INVISIBLE TIMES--&gt;&lt;/mo&gt;
            &lt;mi&gt;x&lt;/mi&gt;
         &lt;/mrow&gt;
         &lt;mrow&gt;
            &lt;mo&gt;+&lt;/mo&gt;
            &lt;mi&gt;y&lt;/mi&gt;
            &lt;mo&gt;-&lt;/mo&gt;
            &lt;mi&gt;z&lt;/mi&gt;
         &lt;/mrow&gt;
      &lt;/math&gt;
   &lt;/epub:case&gt;
   
   &lt;epub:default&gt;
      &lt;p&gt;2x + y - z&lt;/p&gt;
   &lt;/epub:default&gt;
   
&lt;/epub:switch&gt;
</pre></div></section><section class="section" title="2.1.3.3.2.2 The epub:case Element" id="sec-xhtml-epub-case"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-epub-case">›</a> </span>2.1.3.3.2.2 The <code>epub:case</code> Element</h6><p>The <code>case</code> element contains an instance of markup from an XML vocabulary. The included markup may be natively supported in XHTML Content Documents (in the case of MathML and SVG), but such support is not a requirement.</p><div class="elem-synopsis" id="elemdef-case"><dl><dt class="varlistentry"><span class="term">Element name</span></dt><dd><p> <code class="literal">case</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.idpf.org/2007/ops</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>Required first child of <code><a href="#elemdef-switch">switch</a></code>. Repeatable.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry" id="attrdef-case-id"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry" id="attrdef-case-required-namespace"><span class="term"> <code class="literal">required-namespace</code> <code class="option">[required]</code> </span></dt><dd><p>An extension identifier in URI form <a class="biblioref" href="epub30-references.xhtml#refRFC2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types (RFC 2046)">[<abbr>RFC2046</abbr>]</a> that identifies the XML vocabulary or extension that the Reading System must support in order to process the content of the <code>case</code> element. </p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>An XML fragment conforming to the markup vocabulary identified in the <code>required-namespace</code> attribute.</p></dd></dl></div><p>Each <code>case</code> element must contain an alternate representation of the same content. To ensure the best rendering of their content, Authors should order <code>case</code> elements by to their optimal rendering format.</p><p>If the <code>case</code> element contains markup that is valid in an XHTML Content Document (e.g., MathML), that content must be valid at the point where the <code><a href="#elemdef-switch">switch</a></code> element has been inserted (i.e., its addition must not result in an invalid document).</p><p>Foreign markup in a <code>case</code> element must be well formed, but does not have to be valid at its point of insertion. Authors should ensure that any foreign markup matches the context in which it is used (e.g., a block element should not be included in a <code>switch</code> element inserted in an inline context).</p><div class="note" title="note"><h3 class="title">note</h3><p>The IDPF maintains an informative registry of common extension identifiers for use in the <code>required-namespace</code> attribute at <a href="http://www.idpf.org/epub/switch/">http://www.idpf.org/epub/switch/</a>. </p></div></section><section class="section" title="2.1.3.3.2.3 The epub:default Element" id="sec-xhtml-epub-default"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-epub-default">›</a> </span>2.1.3.3.2.3 The <code>epub:default</code> Element</h6><p>The <code>default</code> element provides markup that is valid in any XHTML Content Document for when a Reading System cannot render any of the <code><a href="#elemdef-case">case</a></code> elements.</p><div class="elem-synopsis" id="elemdef-default"><dl><dt class="varlistentry"><span class="term">Element name</span></dt><dd><p> <code class="literal">default</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.idpf.org/2007/ops</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>Required last child of <code class="literal"><a class="xref" href="#elemdef-switch">epub:switch</a></code>.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry" id="attrdef-default-id"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>An <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a>-compliant markup fragment.</p></dd></dl></div><p>The <code>default</code> element acts as a fallback for the <code><a href="#elemdef-switch">switch</a></code> and must include a representation of the content that is valid in XHTML Content Documents.</p><p>The <code>default</code> element must not include content that would invalidate the document at the point where the <code>switch</code> has been inserted: XHTML Content Documents must be valid if all the <code>switch</code> elements are replaced by their child <code>default</code> elements.</p></section></section><section class="section" title="2.1.3.3.3 Processing" id="sec-xhtml-switch-processing"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-switch-processing">›</a> </span>2.1.3.3.3 Processing</h6><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a>s must support the <code>switch</code> element.</p><p>This specification does not require a specific rendering approach for <code>switch</code> elements. A Reading Systems may choose to apply CSS styling to render each <code>switch</code>, for example, but may use any other approach as appropriate. All Reading Systems must present the content of only one <code>case</code> element or the <code>default</code> element per <code>switch</code> for rendering, however.</p><p>The <code>switch</code> element must be processed as though all of its children but one have the HTML5 <a href="http://www.w3.org/TR/html5/Overview.html#the-hidden-attribute">hidden attribute</a> set (i.e., all the same processing rules and requirements outlined for that attribute should be applied to the content not to be rendered).</p><div class="note" title="note"><h3 class="title">note</h3><p>As the content that may be rendered depends on the capabilities of the User's Reading System, linking can be guaranteed only to the <code>switch</code> element. Deep referencing into the <code>switch</code> element is not recommended.</p></div><div class="note" title="note"><h3 class="title">note</h3><p>The occurrence of <code>switch</code> elements in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> is indicated in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> through the <span class="property"><span class="phrase"><a href="epub30-publications.xhtml#switch">switch</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></span> property.</p></div></section></section><section class="section" title="2.1.3.4 The epub:trigger Element" id="sec-xhtml-epub-trigger"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-epub-trigger">›</a> </span>2.1.3.4 The <code>epub:trigger</code> Element</h5><p>The <code>trigger</code> element enables the creation of markup-defined user interfaces for controlling multimedia objects, such as audio and video playback, in both scripted and non-scripted contexts.</p><div class="elem-synopsis" id="elemdef-epub-trigger"><dl><dt class="varlistentry"><span class="term">Element name</span></dt><dd><p> <code class="literal">trigger</code> </p></dd><dt class="varlistentry"><span class="term">Namespace</span></dt><dd><p> <code class="literal">http://www.idpf.org/2007/ops</code> </p></dd><dt class="varlistentry"><span class="term">Usage</span></dt><dd><p>As a child of <code>head</code> and in <a href="http://www.w3.org/TR/html5/Overview.html#flow-content-0">Flow content</a>. Repeatable.</p></dd><dt class="varlistentry"><span class="term">Attributes</span></dt><dd><div class="elem-synopsis-attlist"><dl><dt class="varlistentry" id="attrdef-trigger-id"><span class="term"> <code class="literal">id</code> <code class="option">[optional]</code> </span></dt><dd><p>The ID <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> of this element, which must be unique within the document scope.</p></dd><dt class="varlistentry" id="attrdef-trigger-action"><span class="term"> <code class="literal">action</code> <code class="option">[required]</code> </span></dt><dd><p>The action to perform for this event.</p><p>Allowed values: <code>show</code> | <code>hide</code> | <code>play</code> | <code>pause</code> | <code>resume</code> | <code>mute</code> | <code>unmute</code> </p></dd><dt class="varlistentry" id="attrdef-trigger-ref"><span class="term"> <code class="literal">ref</code> <code class="option">[required]</code> </span></dt><dd><p>An IDREF <a class="biblioref" href="epub30-references.xhtml#refXML" title="Extensible Markup Language (XML) 1.0 (Fifth Edition)">[<abbr>XML</abbr>]</a> that identifies the element that is the object of the action.</p></dd><dt class="varlistentry" id="attrdef-trigger-event"><span class="term"> <code class="literal">ev:event</code> <code class="option">[required]</code> </span></dt><dd><p>The applicable event for this trigger, as defined in <a class="biblioref" href="epub30-references.xhtml#refEVENTS" title="XML Events">[<abbr>XML Events</abbr>]</a>. </p></dd><dt class="varlistentry" id="attrdef-trigger-observer"><span class="term"> <code class="literal">ev:observer</code> <code class="option">[required]</code> </span></dt><dd><p>The source object for this trigger, as defined in <a class="biblioref" href="epub30-references.xhtml#refEVENTS" title="XML Events">[<abbr>XML Events</abbr>]</a>. </p></dd></dl></div></dd><dt class="varlistentry"><span class="term">Content Model</span></dt><dd><p>Empty.</p></dd></dl></div><p>The <code>trigger</code> element associates an <code>event</code> from a specified source object (<code>observer</code>) with a desired action to be performed with a specified target object (<code>ref</code>).</p><p>The semantics of the defined <code>action</code> values are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">show</code> – set the element's DOM <a href="http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility">visibility</a> <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a> property to visible.</p></li><li class="listitem"><p><code class="literal">hide</code> – set the element's DOM <a href="http://www.w3.org/TR/CSS21/visufx.html#propdef-visibility">visibility</a> <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a> property to hidden.</p></li><li class="listitem"><p><code class="literal">play</code> – play the associated resource from the beginning (only applicable to video or audio elements).</p></li><li class="listitem"><p><code class="literal">pause</code> – pause playing (only applicable to video or audio elements).</p></li><li class="listitem"><p><code class="literal">resume</code> – resume playing (only applicable to video or audio elements).</p></li><li class="listitem"><p><code class="literal">mute</code> – mute sound (only applicable to video or audio elements).</p></li><li class="listitem"><p><code class="literal">unmute</code> – unmute sound (only applicable to video or audio elements).</p></li></ul></div><p>Reading Systems that support video or audio playback must support the <code>epub:trigger</code> element.</p><div class="informalexample"><p>Sample markup of a video player that uses <code>trigger</code> elements to control playback and muting.</p><pre class="programlisting">&lt;html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:epub="http://www.idpf.org/2007/ops"
  xmlns:ev="http://www.w3.org/2001/xml-events"&gt;
  &lt;head&gt;
    &lt;epub:trigger ev:observer="pause" ev:event="click" action="pause" ref="test"/&gt;
    &lt;epub:trigger ev:observer="resume" ev:event="click" action="resume" ref="test"/&gt;
    &lt;epub:trigger ev:observer="mute" ev:event="click" action="mute" ref="test"/&gt;
    &lt;epub:trigger ev:observer="mute" ev:event="click" action="show" ref="muted"/&gt;
    &lt;epub:trigger ev:observer="unmute" ev:event="click" action="unmute" ref="test"/&gt;
    &lt;epub:trigger ev:observer="unmute" ev:event="click" action="hide" ref="muted"/&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;video id="test" src="birds.mp4" width="320" height="240"/&gt;
    &lt;p&gt;
      &lt;span class="button" id="resume"&gt;Play/Resume&lt;/span&gt;
      &lt;span class="button" id="pause"&gt;Pause&lt;/span&gt;
      &lt;span class="button" id="mute"&gt;Mute&lt;/span&gt;
      &lt;span class="button" id="unmute"&gt;Unmute&lt;/span&gt;
      &lt;span id="muted"&gt;MUTED&lt;/span&gt;
    &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></div></section><section class="section" title="2.1.3.5 Alternate Style Tags" id="sec-xhtml-alternate-style-tags"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-alternate-style-tags">›</a> </span>2.1.3.5 Alternate Style Tags</h5><p>In accordance with <a class="biblioref" href="epub30-references.xhtml#refAlternateStyleTags" title="Alternate Style Tags">[<abbr>AltStyleTags</abbr>]</a> , the <code class="literal">link</code> element <code class="literal">class</code> attribute may include any of the following values: <code class="literal">horizontal</code>, <code class="literal">vertical</code>, <code class="literal">day</code> and <code class="literal">night</code>. These values inherit the semantics defined by that specification for their use.</p><p>Reading Systems should select and utilize such tagged style sets as appropriate, and as described in that specification.</p></section></section><section class="section" title="2.1.4 HTML5 Deviations and Constraints" id="sec-xhtml-deviations"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-deviations">›</a> </span>2.1.4 HTML5 Deviations and Constraints</h4><p>This section defines deviations and/or constraints in EPUB 3 <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s to the underlying <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> document model.</p><section class="section" title="2.1.4.1 Embedded MathML" id="sec-xhtml-mathml"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-mathml">›</a> </span>2.1.4.1 Embedded MathML</h5><section class="section" title="2.1.4.1.1 Introduction" id="sec-xhtml-mathml-intro"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-mathml-intro">›</a> </span>2.1.4.1.1 Introduction</h6><p class="informative"> This section is informative</p><p>XHTML Content Documents support embedded <a class="biblioref" href="epub30-references.xhtml#refMathML" title="Mathematical Markup Language (MathML) Version 3.0">[<abbr>MATHML</abbr>]</a> but limit its usage to a restricted subset of the full MathML markup language.</p><p>This subset is designed to ease the implementation burden on Reading Systems and to promote accessibility, while retaining compatibility with <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> User Agents. </p><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property"><span class="phrase"><a href="epub30-publications.xhtml#mathml">mathml</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></span> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element indicates that an XHTML Content Document contains embedded MathML.</p></div></section><section class="section" title="2.1.4.1.2 Content Conformance" id="sec-xhtml-mathml-conf-content"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-mathml-conf-content">›</a> </span>2.1.4.1.2 Content Conformance</h6><p>Any occurrence of MathML markup in XHTML Content Documents must conform to the constraints expressed in the MathML specification <a class="biblioref" href="epub30-references.xhtml#refMathML" title="Mathematical Markup Language (MathML) Version 3.0">[<abbr>MATHML</abbr>]</a>, with the following additional restrictions:</p><div class="conformance-list"><dl><dt class="varlistentry" id="math-pres"><span class="term">Presentation MathML</span></dt><dd><p id="confreq-mathml-pres"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-pres">›</a> </span>The <code>m:math</code> element must contain only <a href="http://www.w3.org/TR/MathML/chapter3.html">Presentation MathML</a>, with the exception of the <code>m:annotation-xml</code> element as defined below.</p></dd><dt class="varlistentry" id="math-cont"><span class="term">Content MathML</span></dt><dd><p id="confreq-mathml-annot-cont"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-cont">›</a> </span><a href="http://www.w3.org/TR/MathML/chapter4.html">Content MathML</a> may be included within MathML markup in XHTML Content Documents, and, when present, must occur within an <code>m:annotation-xml</code> child element of an <code>m:semantics</code> element.</p><p id="confreq-mathml-annot-cont-attrs"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-cont-attrs">›</a> </span>When Content MathML is included as per the previous condition, the given <code>m:annotation-xml</code> element's <code>encoding</code> attribute must be set to either of the functionally-equivalent values <code class="literal">MathML-Content</code> or <code>application/mathml-content+xml</code>, and its <code>name</code> attribute must be set to <code class="literal">contentequiv</code>. </p></dd><dt class="varlistentry" id="math-deprecated"><span class="term">Deprecated MathML</span></dt><dd><p id="confreq-mathml-deprecated"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-deprecated">›</a> </span>Elements and attributes marked as deprecated in <a class="biblioref" href="epub30-references.xhtml#refMathML" title="Mathematical Markup Language (MathML) Version 3.0">[<abbr>MATHML</abbr>]</a> must not be included within MathML markup in XHTML Content Documents.</p></dd><dt class="varlistentry" id="math-xhtml"><span class="term">XHTML Content Document fragments</span></dt><dd><p id="confreq-mathml-annot-xht"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-xht">›</a> </span>XHTML Content Document fragments may be included within MathML markup in XHTML Content Documents, and, when present, must occur within an <code>m:annotation-xml</code> child element of an <code>m:semantics</code> element.</p><p id="confreq-mathml-annot-xht-attrs"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-xht-attrs">›</a> </span>When an XHTML Content Document fragment is included as per the above paragraph, the given <code>m:annotation-xml</code> element's <code>encoding</code> attribute must be set to <code class="literal">application/xhtml+xml</code> and its <code>name</code> attribute must be set to <code class="literal">alternate-representation</code>.</p><p id="confreq-mathml-annot-xht-math"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-xht-math">›</a> </span>Any included XHTML Content Document fragments must not themselves contain MathML markup.</p><p id="confreq-mathml-annot-xht-model"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-annot-xht-model">›</a> </span>Any included XHTML Content Document fragments must conform to the content model in which the ancestor <code>m:math</code> element occurs, such that if the <code>m:math</code> element is replaced by the given XHTML Content Document fragment the document remains valid.</p></dd><dt class="varlistentry" id="math-alt"><span class="term">Alternative Content</span></dt><dd><p id="confreq-mathml-alt"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-alt">›</a> </span>Alternative content should be included, and, when present, must be represented as defined in <a class="xref" href="#sec-xhtml-mathml-alt" title="2.1.4.1.4 Alternative Content">Alternative Content</a>. </p></dd></dl></div></section><section class="section" title="2.1.4.1.3 Reading System Conformance" id="sec-xhtml-mathml-rs-conf"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-mathml-rs-conf">›</a> </span>2.1.4.1.3 Reading System Conformance</h6><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> must meet all of the following criteria for processing MathML embedded in XHTML Content Documents:</p><div class="conformance-list" id="mathml-rs-confreqs"><ul class="conformance-list"><li class="listitem"><p id="confreq-mathml-rs-behavior"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-rs-behavior">›</a> </span>It must support processing of <a href="http://www.w3.org/TR/MathML/chapter3.html">Presentation MathML</a>, and may support processing of <a href="http://www.w3.org/TR/MathML/chapter4.html">Content MathML</a>, using semantics defined by the MathML 3.0 specification <a class="biblioref" href="epub30-references.xhtml#refMathML" title="Mathematical Markup Language (MathML) Version 3.0">[<abbr>MATHML</abbr>]</a>. </p></li><li class="listitem"><p id="confreq-mathml-rs-render"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-rs-render">›</a> </span>If it has a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport" title="Viewport">Viewport</a>, it must support visual rendering of Presentation MathML.</p></li><li class="listitem"><p id="confreq-mathml-rs-alt-text"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-mathml-rs-alt-text">›</a> </span>When producing <a href="#sec-xhtml-mathml-alt" title="2.1.4.1.4 Alternative Content">alternative textual content</a> for MathML markup, it should be able to dynamically generate such content from the given <a href="#confreq-mathml-pres">Presentation MathML</a>, and if not, must give preference to <a href="#math-xhtml">XHTML Content Document fragments</a> followed by the <code>alttext</code> attribute on the <code>m:math</code> element.</p></li><li class="listitem"><p id="confreq-rs-mathml-prop"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-mathml-prop">›</a> </span>It must regard the <span class="phrase"><a href="epub30-publications.xhtml#mathml">mathml</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element as the authoritative definition of whether an XHTML Content Document includes embedded MathML.</p></li></ul></div></section><section class="section" title="2.1.4.1.4 Alternative Content" id="sec-xhtml-mathml-alt"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-mathml-alt">›</a> </span>2.1.4.1.4 Alternative Content</h6><p>Reading Systems should be able to generate any necessary alternative textual renditions dynamically using the given <a href="#confreq-mathml-pres">Presentation MathML</a> markup (e.g., as output to <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> engines). To support Reading Systems that are not so capable, alternative textual content should be included with each occurrence of the <code>m:math</code> element in XHTML Content Documents.</p><p>The <code>alttext</code> attribute on the <code>m:math</code> element should be used for this purpose primarily when shorter alternative text runs are sufficient. When more extensive alternative text is required, <a href="#math-xhtml">XHTML Content Document fragments</a> should be used. (Note that Reading Systems query these two alternative text locations using a defined <a href="#confreq-mathml-rs-alt-text">preference order</a>.) </p><p>For Reading System forward compatibility purposes, fallback images may be provided using the <code>altimg</code> attribute on the <code>m:math</code> element. It is recommended that the dimension and alignment attributes (<code>altimg-width</code>, <code>altimg-height</code> and <code>altimg-valign</code>) be used in conjunction with the <code>altimg</code> attribute.</p><div class="note" title="note" id="note-mathml-altimg-refprops-pkg"><h3 class="title">note</h3><p>All referenced <a class="glossterm" href="epub30-terminology.xhtml#gloss-publication-resource-cmt-or-foreign" title="Publication Resource">Publication Resource</a>s must conform to the constraints for Publication Resources defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conf">EPUB Publication — Content Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </p></div></section></section><section class="section" title="2.1.4.2 Embedded SVG" id="sec-xhtml-svg"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-svg">›</a> </span>2.1.4.2 Embedded SVG</h5><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s support the embedding of <a href="http://www.w3.org/TR/SVG/intro.html#TermSVGDocumentFragment">SVG 1.1 document fragments</a> <em>by reference</em> (embedding via reference, for example, from an <code>img</code> or <code>object</code> element) and <em>by inclusion</em> (embedding via direct inclusion of the <code>svg:svg</code> element in the XHTML Content Document) <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a>. </p><p>The content conformance constraints for SVG embedded in XHTML Content Documents are the same as defined for <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s in <a class="xref" href="#sec-svg-restrictions" title="2.3.3 Restrictions on SVG 1.1">Restrictions on SVG 1.1</a>. </p><p>Reading Systems must process SVG embedded in XHTML Content Documents as defined in <a class="xref" href="#sec-svg-rs-conf" title="2.3.4 Reading System Conformance">SVG Content Documents — Reading System Conformance</a>. </p><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property"><span class="phrase"><a href="epub30-publications.xhtml#svg">svg</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></span> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element indicates that an XHTML Content Document contains embedded SVG.</p></div><section class="section" title="2.1.4.2.1 Embedded SVG and CSS" id="sec-xhtml-svg-css"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-svg-css">›</a> </span>2.1.4.2.1 Embedded SVG and CSS</h6><p id="confreq-svg-rs-css-embed-ref">For the purposes of styling SVG embedded in XHTML Content Documents <em>by reference</em>, Reading Systems must not apply CSS style rules of the containing document to the referenced SVG document.</p><p id="confreq-svg-rs-css-embed-inc">For the purposes of styling SVG embedded in XHTML Content Documents <em>by inclusion</em>, Reading Systems must apply applicable CSS rules of the containing document to the included SVG elements.</p><div class="note" title="note"><h3 class="title">note</h3><p>SVG included <em>by reference</em> is processed as a separate document, and may include its own CSS style rules just like an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a> would. Note that this is consistent with situations where an <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-object-element">object</a></code> element references an external <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> element.</p></div></section></section><section class="section" title="2.1.4.3 Unicode Restrictions" id="sec-xhtml-deviations-unicode"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-deviations-unicode">›</a> </span>2.1.4.3 Unicode Restrictions</h5><p>This section lists restrictions on the Unicode character repertoire.</p><div class="variablelist"><dl><dt class="varlistentry"><span class="term">Private Use Characters and Embedded Fonts</span></dt><dd><p id="confreq-xhtml-unicode-pua">Any included characters that map to a code point within one of the Private Use Area (PUA) ranges as defined in <a class="biblioref" href="epub30-references.xhtml#refUnicode5" title="The Unicode Consortium. The Unicode Standard, Version 5.0.0, defined by: The Unicode Standard, Version 5.0 (Boston, MA, Addison-Wesley, 2007. ISBN 0-321-48091-0)">[<abbr>Unicode</abbr>]</a> must occur within a string that is styled or attributed in a manner that includes a reference to an <a href="#sec-css-fonts" title="3.3.4 CSS Fonts Level 3">embedded font</a> that contains an appropriate glyph for that code point.</p></dd></dl></div></section><section class="section" title="2.1.4.4 Discouraged Constructs" id="sec-xhtml-deviations-discouraged"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-deviations-discouraged">›</a> </span>2.1.4.4 Discouraged Constructs</h5><div class="conformance-list"><dl><dt class="varlistentry"><span class="term">The <code>rp</code> Element</span></dt><dd><p id="confreq-xhtml-vocab-rp"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-vocab-rp">›</a> </span>The <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-rp-element">rp</a></code> element is intended to provide a fallback — an optional parenthesis display around <code>ruby</code> markup — for older version Reading Systems that do not recognize ruby markup. As EPUB 3 Reading Systems are ruby-aware, and can provide fallbacks, the use of <code>rp</code> elements in Content Documents is discouraged.</p></dd><dt class="varlistentry"><span class="term">The <code>embed</code> Element</span></dt><dd><p id="confreq-xhtml-vocab-embed"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-xhtml-vocab-embed">›</a> </span>Since the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-embed-element">embed</a></code> element does not provide intrinsic facilities to provide <a href="#confreq-rs-scripted-flbk">fallbacks</a> for Reading Systems that do not support scripting, its use is discouraged when the resource referenced has scripting components. Authors should use the <code>object</code> element instead.</p></dd></dl></div></section></section></section><section class="section" title="2.2 EPUB Navigation Documents" id="sec-xhtml-nav"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav">›</a> </span>2.2 EPUB Navigation Documents</h3><section class="section" title="2.2.1 Introduction" id="sec-xhtml-nav-intro"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-intro">›</a> </span>2.2.1 Introduction</h4><p class="informative"> This section is informative</p><p>The EPUB Navigation Document is a <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conformance-nav">required component</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> of <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s. It provides the Author with a mechanism to include a human- and machine-readable global navigation layer in the Publication, thereby ensuring increased usability and accessibility for the User. </p><p>The EPUB Navigation Document is an adaptation of <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> and is, <a href="#confreq-cd-nav-docprops-parent">by definition</a>, a valid XHTML Content Document instance. All Content and Reading System conformance requirements that apply to XHTML Content Documents also apply to the EPUB Navigation Document.</p><p>The navigation features of this adaptation are expressed through specializations of the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-nav-element">nav</a></code> element. Each <code>nav</code> element in an EPUB Navigation Document represents a data island — an embedded source of specialized information within the general markup — from which Reading Systems can retrieve navigational information. Unlike typical XML data islands, however, the information within the <code>nav</code> element remains human readable as an <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> document.</p><p>To facilitate machine readability, the content model of <code>nav</code> elements in EPUB Navigation Documents is restricted relative to what is allowed in general XHTML Content Documents.</p><div class="note" title="note"><h3 class="title">note</h3><p>The EPUB Navigation Document is identified in the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> through the <span class="property"><span class="phrase"><a href="epub30-publications.xhtml#nav">nav</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></span> property.</p></div><div class="note" title="note" id="note-ncx"><h3 class="title">note</h3><p>The EPUB Navigation Document supersedes the NCX document type as defined in <a class="biblioref" href="epub30-references.xhtml#refOPF2" title="Open Packaging Format 2.0.1">[<abbr>OPF2</abbr>]</a>. </p><p>Information on how EPUB 3 Publications may include an NCX document for EPUB 2 Reading System forwards compatibility purposes is available in <span class="phrase"><a href="epub30-publications.xhtml#ncx-superseded">NCX Superseded</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>.</p></div></section><section class="section" title="2.2.2 Content Conformance" id="sec-xhtml-nav-content-conf"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-content-conf">›</a> </span>2.2.2 Content Conformance</h4><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-nav" title="EPUB Navigation Document">EPUB Navigation Document</a> must meet all of the following criteria:</p><div class="conformance-list" id="confreq-cd-nav"><dl><dt class="varlistentry" id="confreq-cd-nav-docprops"><span class="term">Document Properties</span></dt><dd><p id="confreq-cd-nav-docprops-parent"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-nav-docprops-parent">›</a> </span>It must conform to all content conformance constraints for <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s as defined in <a class="xref" href="#sec-xhtml-conf-content" title="2.1.1 Content Conformance">XHTML Content Documents — Content Conformance</a>. </p><p id="confreq-cd-nav-docprops-schema"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-nav-docprops-schema">›</a> </span>It must be valid to the EPUB Navigation Document schema as defined in <a class="xref" href="#app-xhtml-nav-schema" title="A.2 EPUB Navigation Document Schema">EPUB Navigation Document Schema</a> and conform to all content conformance constraints specific for EPUB Navigation Documents expressed in <a class="xref" href="#sec-xhtml-nav-def" title="2.2.4 EPUB Navigation Document Definition">EPUB Navigation Document Definition</a>. </p><p id="confreq-cd-nav-docprops-spine"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-nav-docprops-spine">›</a> </span>As a conforming XHTML Content Document, it may be included in the Publication <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>, but may also be provided independently of it. </p></dd></dl></div></section><section class="section" title="2.2.3 Reading System Conformance" id="sec-xhtml-nav-rs-conf"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-rs-conf">›</a> </span>2.2.3 Reading System Conformance</h4><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> must meet all of the following criteria for processing <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-nav" title="EPUB Navigation Document">EPUB Navigation Document</a>:</p><div class="conformance-list" id="xhtml-nav-rs-confreqs"><ul class="conformance-list"><li class="listitem"><p id="confreq-nav-access"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-access">›</a> </span>When requested by a User, Reading Systems must provide access to the links and link labels in <a href="#sec-xhtml-nav-def-types" title="2.2.4.2 The nav Element: Types">the <code>nav</code> elements</a> of the EPUB Navigation Document in a fashion that allows the User to activate the links provided. When a link is activated, the Reading System must relocate the application's current reading position to the destination identified by that link.</p></li><li class="listitem"><p id="confreq-nav-spine"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-spine">›</a> </span>Reading Systems must honor the above requirement irrespective of whether the EPUB Navigation Document provided in a Publication is part of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>. </p></li></ul></div></section><section class="section" title="2.2.4 EPUB Navigation Document Definition" id="sec-xhtml-nav-def"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def">›</a> </span>2.2.4 EPUB Navigation Document Definition</h4><section class="section" title="2.2.4.1 The nav Element: Restrictions" id="sec-xhtml-nav-def-model"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-model">›</a> </span>2.2.4.1 The <code>nav</code> Element: Restrictions</h5><p>This specification restricts the content model of the <code>nav</code> element and its descendants in <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-nav" title="EPUB Navigation Document">EPUB Navigation Document</a>s as follows:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-nav-hd"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-hd">›</a> </span>Each <code>nav</code> element may contain an optional heading indicating the title of the navigation list. The heading must be one of the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-h1-h2-h3-h4-h5-and-h6-elements">h1 through h6</a></code> elements or an <code><a href="http://www.w3.org/TR/html5/Overview.html#the-hgroup-element">hgroup</a></code>. </p></li><li class="listitem"><p id="confreq-nav-ol"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-ol">›</a> </span>The optional heading must be followed by a single <code><a href="http://www.w3.org/TR/html5/Overview.html#the-ol-element">ol</a></code> ordered list; no other elements are permitted as direct children of the <code>nav</code> element. This ordered list represents the primary level of content navigation.</p></li><li class="listitem"><p id="confreq-nav-a"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-a">›</a> </span>Each list item (<code><a href="http://www.w3.org/TR/html5/Overview.html#the-li-element">li</a></code>) of the ordered list represents a primary heading, structure or other point of interest within the Publication and must contain either a child <code><a href="http://www.w3.org/TR/html5/Overview.html#the-a-element">a</a></code> element or a child <code><a href="http://www.w3.org/TR/html5/Overview.html#the-span-element">span</a></code> element. The <code>a</code> element describes the target within the Content Document that the link points to. The <code>span</code> element serves as a heading for breaking down lists into distinct groups (for example, a large list of illustrations can be segmented into several lists, one for each chapter).</p></li><li class="listitem"><p id="confreq-nav-a-cnt"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-a-cnt">›</a> </span>Each child <code>a</code> or <code>span</code> element of a list item may contain any valid <a href="http://www.w3.org/TR/html5/Overview.html#phrasing-content-0">HTML5 phrasing content</a>, but must not result in a zero-length text string after concatenation of all child content and application of whitespace normalization rules.</p></li><li class="listitem" id="confreq-nav-a-title"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-a-title">›</a> </span>If the <code>a</code> element contains instances of <a href="http://dev.w3.org/html5/spec/Overview.html#embedded-content-0">HTML5 embedded content</a> that do not provide intrinsic text alternatives, it must also include a <code>title</code> attribute with an alternate text rendition of the link label.</p></li><li class="listitem"><p id="confreq-nav-a-href"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-a-href">›</a> </span>The relative IRI reference provided in the <code>href</code> attribute of the <code>a</code> element must resolve to an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> or fragment therein.</p></li><li class="listitem"><p id="confreq-nav-a-nest"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-a-nest">›</a> </span>The <code>a</code> element may optionally be followed by an <code>ol</code> ordered list representing a subsidiary content level below that heading (e.g., all the subsection headings of a section). The <code>span</code> element must be followed by an <code>ol</code> ordered list: it cannot be used in "leaf" <code>li</code> elements. Regardless of whether an <code>a</code> or <code>span</code> element precedes it, this sublist must adhere to all the content requirements defined in this section for constructing the primary navigation list, and recursively (for each additional level of the Publication's hierarchy represented in this manner).</p></li><li class="listitem"><p id="confreq-nav-ol-style"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-nav-ol-style">›</a> </span>The <code>ol</code> element represents an ordered list. In the context of this specification, the default display style of list items must be equivalent to CSS <code>list-style: none</code> (Reading Systems with no CSS support must not show list item numbering). Authors may specify alternative list item styles using CSS, but these would obviously be ignored by Reading Systems that do not support Cascading Style Sheets. </p></li></ul></div><div class="informalexample"><p>The following example shows a partial <code class="literal">lot</code> ("list of tables") <code>nav</code> element, with <code>span</code> elements used as link-less headings for grouping the sublists.</p><pre class="synopsis">&lt;nav epub:type="lot"&gt;
    &lt;h2&gt;List of tables, broken down into individual groups, one per major section of the publication content&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;span&gt;Tables in Chapter 1&lt;/span&gt;
            &lt;ol&gt;
                &lt;li&gt;&lt;a href="chap1.xhtml#table-1.1"&gt;Table 1.1&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;&lt;a href="chap1.xhtml#table-1.2"&gt;Table 1.2&lt;/a&gt;&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
        
        &lt;li&gt;&lt;span&gt;Tables in Chapter 2&lt;/span&gt;
            &lt;ol&gt;
                &lt;li&gt;&lt;a href="chap2.xhtml#table-2.1"&gt;Table 2.1&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;&lt;a href="chap2.xhtml#table-2.2"&gt;Table 2.2&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="chap2.xhtml#table-2.3"&gt;Table 2.3&lt;/a&gt;&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
        ...
        &lt;li&gt;&lt;span&gt;Tables in Appendix&lt;/span&gt;
            &lt;ol&gt;
                &lt;li&gt;&lt;a href="appendix.xhtml#table-a.1"&gt;Table A.1&lt;/a&gt;
                &lt;/li&gt;
                &lt;li&gt;&lt;a href="appendix.xhtml#table-a.2"&gt;Table B.2&lt;/a&gt;&lt;/li&gt;
            &lt;/ol&gt;
        &lt;/li&gt;
    &lt;/ol&gt;
&lt;/nav&gt;</pre></div></section><section class="section" title="2.2.4.2 The nav Element: Types" id="sec-xhtml-nav-def-types"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-types">›</a> </span>2.2.4.2 The <code>nav</code> Element: Types</h5><p>The <code>nav</code> elements defined in an EPUB Navigation Document are distinguished semantically by the value of their <code>epub:type</code> attribute. By <a href="#sec-contentdocs-default-vocab" title="2.1.3.1.3. Default Vocabulary">default</a>, values of <code>epub:type</code> are drawn from the EPUB 3 Structural Semantics Vocabulary <a class="biblioref" href="epub30-references.xhtml#refEPUBStructureVocab" title="EPUB 3 Structural Semantics Vocabulary">[<abbr>StructureVocab</abbr>]</a>, but values drawn from other vocabularies are also allowed. Refer to <a class="xref" href="#sec-xhtml-content-type-attribute" title="2.1.3.1.2 The epub:type Attribute">The <code>epub:type</code> Attribute</a> for more information. </p><section class="section" title="2.2.4.2.1 The toc nav Element" id="sec-xhtml-nav-def-types-toc"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-types-toc">›</a> </span>2.2.4.2.1 The <span class="property">toc</span> <code>nav</code> Element</h6><p>The <code class="literal">toc</code> <code>nav</code> element defines the primary navigational hierarchy of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>. It conceptually corresponds to a table of contents in a printed work (i.e., it provides navigation to the structural sections of the Publication).</p><p>For usability and accessibility reasons, <a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s should provide a comprehensive table of contents: the <code class="literal">toc</code> <code>nav</code> should not exclude references based solely on their nesting depth within the document hierarchy, as is often the case in print works (particularly in reduced tables of contents).</p><p>In the case of Publications that exclusively reference XHTML Content Documents from their <code>spine</code>s, the <code class="literal">toc</code> <code>nav</code> will typically correspond to the aggregation of <a href="http://www.w3.org/TR/html5/Overview.html#headings-and-sections">HTML5 outlines</a> of those documents (excluding any subtrees that do not contribute to the primary Publication outline).</p><p>The order of <code>li</code> elements contained within the <code class="literal">toc</code> <code>nav</code> element must match the order of the targeted elements within each <a href="#confreq-nav-a-href">targeted EPUB Content Document</a>, and must also follow the order of Content Documents in the Publication <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>. </p><p>The <span class="property">toc</span> <code>nav</code> element must occur exactly once in EPUB Navigation Documents.</p><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property">toc</span> <code>nav</code> element corresponds to the <code>navMap</code> element in the superseded NCX <a class="biblioref" href="epub30-references.xhtml#refOPF2" title="Open Packaging Format 2.0.1">[<abbr>OPF2</abbr>]</a>. </p></div></section><section class="section" title="2.2.4.2.2 The page-list nav Element" id="sec-xhtml-nav-def-types-pagelist"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-types-pagelist">›</a> </span>2.2.4.2.2 The <span class="property">page-list</span> <code>nav</code> Element</h6><p>The <code class="literal">page-list</code> <code>nav</code> element is a container for pagination information. It provides navigation to positions in the Publication content that correspond to the locations of page boundaries present in a print source being represented by this EPUB Publication.</p><p>The <span class="property">page-list</span> <code>nav</code> element is optional in EPUB Navigation Documents and must not occur more than once. </p><p> The order of <code>li</code> elements contained within a <span class="property">page-list</span> <code>nav</code> structure must match the order of the actual pages inside each <a href="#confreq-nav-a-href">targeted EPUB Content Document</a> and must also follow the order of Content Documents in the Publication <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a>. </p><p>The <span class="property">page-list</span> <code>nav</code> element should contain only a single <code>ol</code> descendant (i.e., it should be a flat list, not a nested structure of navigation items). </p><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property">page-list</span> <code>nav</code> element corresponds to the <code>pageList</code> element in the superseded NCX. <a class="biblioref" href="epub30-references.xhtml#refOPF2" title="Open Packaging Format 2.0.1">[<abbr>OPF2</abbr>]</a></p></div><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="phrase"><a href="epub30-publications.xhtml#sec-opf-dcsource">dc:source</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> element provides a means of identifying the source publication to which the given pagination information applies.</p></div></section><section class="section" title="2.2.4.2.3 The landmarks nav Element" id="sec-xhtml-nav-def-types-landmarks"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-types-landmarks">›</a> </span>2.2.4.2.3 The <span class="property">landmarks</span> <code>nav</code> Element</h6><p>The <code class="literal">landmarks</code> <code>nav</code> element identifies fundamental structural components of the publication in order to enable Reading Systems to provide the User efficient access to them.</p><p>The structural semantics of each link target within the <code class="literal">landmarks</code> <code>nav</code> element is determined by the value of the <a href="#sec-xhtml-content-type-attribute" title="2.1.3.1.2 The epub:type Attribute">epub:type</a> attribute on the <code>a</code> element descendants. The <code>epub:type</code> attribute is required on <code>a</code> element descendants of the <code class="literal">landmarks</code> <code>nav</code> element. </p><p id="nav-landmarks-htu-extend">The <code class="literal">landmarks</code> <code>nav</code> element extends the suggested HTML context of terms from the <a class="biblioref" href="epub30-references.xhtml#refEPUBStructureVocab" title="EPUB 3 Structural Semantics Vocabulary">EPUB Structural Semantics Vocabulary</a> to include the <code>a</code> element. </p><div class="informalexample"><p>The following example shows a <code class="literal">landmarks</code> <code>nav</code> element with structural semantics drawn from the <a class="biblioref" href="epub30-references.xhtml#refEPUBStructureVocab" title="EPUB 3 Structural Semantics Vocabulary">EPUB Structural Semantics Vocabulary</a>. </p><pre class="synopsis">&lt;nav epub:type="landmarks"&gt;
    &lt;h2&gt;Guide&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;a epub:type="toc" href="#toc"&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a epub:type="loi" href="content.html#loi"&gt;List of Illustrations&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a epub:type="bodymatter" href="content.html#bodymatter"&gt;Start of Content&lt;/a&gt;&lt;/li&gt;
    &lt;/ol&gt;
&lt;/nav&gt;</pre></div><p>The <span class="property">landmarks</span> <code>nav</code> element is optional in EPUB Navigation Documents and must not occur more than once. </p><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property">landmarks</span> <code>nav</code> element corresponds to the deprecated OPF <code>guide</code> element. Refer to <span class="phrase"><a href="epub30-publications.xhtml#sec-guide-elem">guide</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> for more information. </p></div></section><section class="section" title="2.2.4.2.4 Other nav Elements" id="sec-xhtml-nav-def-types-other"><h6 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-types-other">›</a> </span>2.2.4.2.4 Other <code>nav</code> Elements</h6><p>EPUB Navigation Documents optionally may include one or more <code>nav</code> elements in addition to the <code class="literal">toc</code>, <code class="literal">page-list</code> and <code class="literal">landmarks</code> <code>nav</code> elements defined above. Such additional <code>nav</code> elements should have an <code>epub:type</code> attribute to provide a machine-readable semantic, and must have a human-readable heading as their first child.</p><p>This specification imposes no restrictions on the semantics of such additional <code>nav</code> elements: they may be used to represent navigational semantics for any information domain, and they may contain link targets with homogeneous or heterogeneous semantics.</p></section></section><section class="section" title="2.2.4.3 The hidden attribute" id="sec-xhtml-nav-def-hidden"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-xhtml-nav-def-hidden">›</a> </span>2.2.4.3 The <code>hidden</code> attribute</h5><p>In some cases, <a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s may wish to hide parts of the navigation data within the content flow (i.e., the Reading System's principal rendering of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-spine" title="Spine">spine</a> contents). A typical example is the <a href="#sec-xhtml-nav-def-types-pagelist" title="2.2.4.2.2 The page-list nav Element">list of page breaks</a>, which usually isn't rendered as part of the content flow but instead exposed to the <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a> separately in a dedicated navigation user interface.</p><p> While the CSS <code class="literal">display</code> property can be used to control the visual rendering of EPUB Navigation Documents in Reading Systems with <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a>s, not all Reading Systems provide such an interface. To control rendering across all Reading Systems, authors must use the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-hidden-attribute">hidden</a></code> attribute to indicate which (if any) portions of the navigation data are excluded from rendering in the content flow. The <code>hidden</code> attribute has no effect on how navigation data is rendered outside of the content flow (such as in dedicated navigation user interfaces provided by Reading Systems).</p><div class="informalexample"><p>The following example shows a partial <code class="literal">page-list</code> <code>nav</code> element. The presence of the <code>hidden</code> attribute on the root indicates that the entire list is excluded from rendering in the content flow.</p><pre class="synopsis">&lt;nav epub:type="page-list" hidden=""&gt;
    &lt;h2&gt;Pagebreaks of the print version, third edition&lt;/h2&gt;
    &lt;ol&gt;
        &lt;li&gt;&lt;a href="frontmatter.xhtml#pi"&gt;I&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="frontmatter.xhtml#pii"&gt;II&lt;/a&gt;&lt;/li&gt; … &lt;li&gt;&lt;a href="chap1.xhtml#p1"&gt;1&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="chap1.xhtml#p2"&gt;2&lt;/a&gt;&lt;/li&gt; … &lt;/ol&gt;
&lt;/nav&gt;
</pre></div><div class="informalexample"><p>The following example shows a partial <code class="literal">toc</code> <code>nav</code> element where the <code>hidden</code> attribute is used to limit content flow rendering to the two topmost hierarchical levels.</p><pre class="synopsis">&lt;nav epub:type="toc" id="toc"&gt;
  &lt;h1&gt;Table of contents&lt;/h1&gt;
  &lt;ol&gt;
    &lt;li&gt;
      &lt;a href="chap1.xhtml"&gt;Chapter 1&lt;/a&gt;
      &lt;ol&gt;
        &lt;li&gt;
          &lt;a href="chap1.xhtml#sec-1.1"&gt;Chapter 1.1&lt;/a&gt;
          &lt;ol hidden=""&gt;
            &lt;li&gt;
              &lt;a href="chap1.xhtml#sec-1.1.1"&gt;Section 1.1.1&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
              &lt;a href="chap1.xhtml#sec-1.1.2"&gt;Section 1.1.2&lt;/a&gt;
            &lt;/li&gt;
          &lt;/ol&gt;
         &lt;/li&gt;
         &lt;li&gt;
           &lt;a href="chap1.xhtml#sec-1.2"&gt;Chapter 1.2&lt;/a&gt;
         &lt;/li&gt;
       &lt;/ol&gt;
     &lt;/li&gt;
    &lt;li&gt;
      &lt;a href="chap2.xhtml"&gt;Chapter 2&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/nav&gt;
</pre></div></section></section></section><section class="section" title="2.3 SVG Content Documents" id="sec-svg"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-svg">›</a> </span>2.3 SVG Content Documents</h3><section class="section" title="2.3.1 Introduction" id="sec-svg-intro"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-svg-intro">›</a> </span>2.3.1 Introduction</h4><p class="informative"> This section is informative</p><p>The Scalable Vector Graphics (SVG) 1.1 (Second Edition) specification <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a> defines a format for representing final-form vector graphics and text.</p><p>Although an EPUB Publication typically uses <a href="#sec-xhtml" title="2.1 XHTML Content Documents">XHTML Content Documents</a> as the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-top-level" title="Top-level Content Document">top-level</a> document type, the use of <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s is also permitted. SVGs are typically only used in certain special circumstances, such as when final-form page images are the only suitable representation of the content (as may be the case, for example, in the context of manga or comic books). </p><p>This section defines a profile for <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a> documents. An instance of an XML document that conforms to this profile is a <a class="glossterm" href="epub30-terminology.xhtml#gloss-core-media-type" title="Core Media Type">Core Media Type</a> and is referred to in this specification and its <a href="#sibling-specs">sibling specifications</a> as an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>. </p><div class="note" title="note"><h3 class="title">note</h3><p>This section defines conformance requirements for <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s. Refer to <a class="xref" href="#sec-xhtml-svg" title="2.1.4.2 Embedded SVG">Embedded SVG</a> for conformance requirements for SVG embedded in XHTML Content Documents.</p></div></section><section class="section" title="2.3.2 Content Conformance" id="sec-svg-content-conf"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-svg-content-conf">›</a> </span>2.3.2 Content Conformance</h4><div class="conformance-list"><p>An <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a> must meet all of the following criteria:</p><dl><dt class="varlistentry" id="confreq-mo-docprops"><span class="term">Document Properties</span></dt><dd><p id="confreq-cd-svg-xml"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-svg-xml">›</a> </span> <span class="phrase">It must meet the conformance constraints for XML documents defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-xml-constraints">XML Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </span> </p><p id="confreq-cd-svg-docprops-schema"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-svg-docprops-schema">›</a> </span>It must be an <a href="http://www.w3.org/TR/SVG/intro.html#TermSVGDocumentFragment">SVG 1.1 document fragment</a> valid to the SVG Content Document schema as defined in <a class="xref" href="#app-svg-schema" title="A.3 SVG Content Document Schema">SVG Content Document Schema</a> and conform to all content conformance constraints expressed in <a class="xref" href="#sec-svg-restrictions" title="2.3.3 Restrictions on SVG 1.1">Restrictions on SVG 1.1</a>. </p><p id="confreq-cd-svg-accessibility"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-svg-accessibility">›</a> </span>It should adhere to the accessibility guidelines given in <a class="biblioref" href="epub30-references.xhtml#refSVGAccess" title="Accessibility Features of SVG">[<abbr>SVG Access</abbr>]</a>. </p></dd><dt class="varlistentry" id="confreq-svg-fileprops"><span class="term">File Properties</span></dt><dd><p id="confreq-svg-fileprops-name"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-fileprops-name">›</a> </span>The SVG Content Document filename should use the file extension <code class="filename">.svg</code>.</p></dd></dl></div><div class="note" title="note" id="note-cd-svg-refprops-pkg"><h3 class="title">note</h3><p>All <a class="glossterm" href="epub30-terminology.xhtml#gloss-publication-resource-cmt-or-foreign" title="Publication Resource">Publication Resource</a>s referenced from an SVG Content Document must conform to the constraints for Publication Resources defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conf">EPUB Publication — Content Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></p></div></section><section class="section" title="2.3.3 Restrictions on SVG 1.1" id="sec-svg-restrictions"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-svg-restrictions">›</a> </span>2.3.3 Restrictions on SVG 1.1</h4><p>This specification restricts the content model of <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-svg" title="SVG Content Document">SVG Content Document</a>s and <a href="#sec-xhtml-svg" title="2.1.4.2 Embedded SVG">SVG embedded in XHTML Content Documents</a> as follows:</p><div class="conformance-list" id="sec-svg-restrictions-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-svg-anim"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-anim">›</a> </span>The <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a> <a href="http://www.w3.org/TR/SVG/animate.html#AnimationElements">Animation Elements</a> and <a href="http://www.w3.org/TR/SVG/script.html#AnimationEvents">Animation event attributes</a> must not occur. </p></li><li class="listitem"><p id="confreq-svg-foreignObject"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-foreignObject">›</a> </span>The <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a> <code><a href="http://www.w3.org/TR/SVG11/extend.html#ForeignObjectElement">svg:foreignObject</a></code> element must contain only valid XHTML Content Document Flow content, and its <code>requiredExtensions</code> attribute, if given, must be set to <code class="literal">http://www.idpf.org/2007/ops</code>. </p></li><li class="listitem"><p id="confreq-svg-title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-title">›</a> </span>The <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a> <code><a href="http://www.w3.org/TR/SVG11/struct.html#TitleElement">svg:title</a></code> element must contain only valid XHTML Content Document Phrasing content.</p></li></ul></div></section><section class="section" title="2.3.4 Reading System Conformance" id="sec-svg-rs-conf"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-svg-rs-conf">›</a> </span>2.3.4 Reading System Conformance</h4><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> must meet all of the following criteria for processing SVG Content Documents and SVG <a href="#sec-xhtml-svg" title="2.1.4.2 Embedded SVG">embedded in XHTML Content Documents</a>:</p><div class="conformance-list" id="svg-rs-confreqs"><ul class="conformance-list"><li class="listitem"><p id="confreq-svg-rs-behavior"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-rs-behavior">›</a> </span>It must support the language features of SVG that correspond to the feature string <code class="literal">http://www.w3.org/TR/SVG11/feature#SVG-dynamic</code> minus the <code class="literal">http://www.w3.org/TR/SVG11/feature#Animation</code> and <code class="literal">http://www.w3.org/TR/SVG11/feature#AnimationEventsAttribute</code> features (see <a href="http://www.w3.org/TR/SVG/feature.html">Feature strings</a>) <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a>. </p></li><li class="listitem"><p id="confreq-svg-rs-scrpt"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-rs-scrpt">›</a> </span>It must meet the Reading System conformance criteria defined in <a class="xref" href="#sec-scripted-content-rs-reqs" title="2.4.3 Reading System Conformance">Scripted Content Documents — Reading System Conformance</a>. </p></li><li class="listitem"><p id="confreq-svg-rs-css"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-rs-css">›</a> </span>If it has an <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-svg" title="SVG Viewport">SVG Viewport</a>, it must support the visual rendering of SVG using CSS as defined in <a href="http://www.w3.org/TR/SVG11/styling.html">Section 6</a> of <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a>, and it should support all properties defined in <a href="http://www.w3.org/TR/SVG11/propidx.html">Appendix N</a> of that specification. In the case of embedded SVG, it must also conform to the constraints defined in <a class="xref" href="#sec-xhtml-svg-css" title="2.1.4.2.1 Embedded SVG and CSS">Embedded SVG and CSS</a>. </p></li><li class="listitem"><p id="confreq-svg-rs-text"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-rs-text">›</a> </span>It should support User selection and searching of text within SVG elements.</p></li><li class="listitem"><p id="confreq-svg-rs-reqdExt"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-svg-rs-reqdExt">›</a> </span>It must recognize the value <code class="literal">http://www.idpf.org/2007/ops</code> of the <code>requiredExtensions</code> attribute when appearing on the <code>svg:switch</code> and <code>svg:foreignObject</code> elements as representing the occurrence of XHTML Content Document fragments.</p></li><li class="listitem"><p id="confreq-rs-svg-prop"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-svg-prop">›</a> </span>It must regard the <span class="phrase"><a href="epub30-publications.xhtml#svg">svg</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element as the authoritative definition of whether an EPUB XHTML Content Document includes embedded SVG.</p></li></ul></div></section></section><section class="section" title="2.4 Scripted Content Documents" id="sec-scripted-content"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-content">›</a> </span>2.4 Scripted Content Documents</h3><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a>s may contain scripting using the facilities defined for this in the respective underlying specifications (<a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> and <a class="biblioref" href="epub30-references.xhtml#refSVG" title="Scalable Vector Graphics (SVG) 1.1 (Second Edition)">[<abbr>SVG</abbr>]</a>). When an EPUB Content Document contains scripting, it is referred to in this specification and its <a href="#sibling-specs">sibling specifications</a> as a <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-scripted" title="Scripted Content Document">Scripted Content Document</a>. This label also applies to <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s when they contain instances of <a href="http://www.w3.org/TR/html5/Overview.html#forms">HTML5 forms</a>. </p><section class="section" title="2.4.1 Scripting Contexts" id="sec-scripted-context"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-context">›</a> </span>2.4.1 Scripting Contexts</h4><p id="sec-scripted-content-models">This specification defines two contexts in which scripts may appear:</p><div class="variablelist"><dl><dt class="varlistentry" id="sec-scripted-content-type-spine-level"><span class="term">spine-level</span></dt><dd><p>An instance of the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-script-element">script</a></code> element included in a <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-top-level" title="Top-level Content Document">Top-level Content Document</a>. </p></dd><dt class="varlistentry" id="sec-scripted-content-type-container-constrained"><span class="term">container-constrained</span></dt><dd><p>An instance of the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code>script</code> element included in an <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub" title="EPUB Content Document">EPUB Content Document</a> that is embedded in a parent Content Document using one of the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-object-element">object</a></code>, <code><a href="http://www.w3.org/TR/html5/Overview.html#the-iframe-element">iframe</a></code> or <code><a href="http://www.w3.org/TR/html5/Overview.html#the-embed-element">embed</a></code> elements.</p></dd></dl></div><p>In both of the above-defined contexts, whether the JavaScript code is embedded directly in the <code>script</code> element or referenced via its <code>src</code> attribute makes no difference to the executing context.</p><p>Which context a script is used in determines the rights and restrictions that a Reading System may place on it. Refer to <a href="#sec-scripted-content-content-reqs" title="2.4.2 Content Conformance">Content Conformance</a> and <a href="#sec-scripted-content-rs-reqs" title="2.4.3 Reading System Conformance">Reading System Conformance</a> for some specific requirements that must be adhered to (not all Reading Systems may provide the same scripting functionality).</p><p class="bridgehead" title="2.4.1. Example">Example</p><p>Consider the following example Package Document:</p><div class="informalexample"><pre class="synopsis">&lt;package …&gt;
    …
    &lt;manifest&gt;
        …
        &lt;item id="chap01" 
            href="scripted01.xhtml" 
            media-type="application/xhtml+xml"
            properties="scripted"/&gt;
        &lt;item id="inset01" 
            href="scripted02.xhtml" 
            media-type="application/xhtml+xml"
            properties="scripted"/&gt;
        &lt;item id="slideshowjs" 
            href="slideshow.js" 
            media-type="text/javascript"/&gt;
    &lt;/manifest&gt;
    
    &lt;spine …&gt;
        &lt;itemref idref="chap01"/&gt;
        …
    &lt;/spine&gt;
    …
&lt;/package&gt;
</pre></div><p>and the following file <code class="filename">scripted01.xhtml</code>:</p><div class="informalexample"><pre class="synopsis">&lt;html …&gt;
    &lt;head&gt;
        …
        &lt;script type="text/javascript"&gt;
            alert("Reading System name: " + navigator.epubReadingSystem.name);
        &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        …
        &lt;iframe src="scripted02.xhtml" … /&gt;
        …
    &lt;/body&gt;
&lt;/html&gt;
</pre></div><p>and the following file <code class="filename">scripted02.xhtml</code>:</p><div class="informalexample"><pre class="synopsis">&lt;html …&gt;
    &lt;head&gt;
        …
        &lt;script type="text/javascript" href="slideshow.js"&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        …
    &lt;/body&gt;
&lt;/html&gt;
</pre></div><p>From these examples, it is true that:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>the code in the <code>script</code> element in the <code>head</code> in <code class="filename">scripted01.xhtml</code> is a spine-level script because the document is referenced from the spine;</p></li><li class="listitem"><p>the code in the <code>script</code> element in <code class="filename">scripted02.xhtml</code> is a container-constrained script because the HTML file it occurs in is included in <code class="filename">scripted01.xhtml</code> via the <code>iframe</code> element.</p></li></ul></div></section><section class="section" title="2.4.2 Content Conformance" id="sec-scripted-content-content-reqs"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-content-content-reqs">›</a> </span>2.4.2 Content Conformance</h4><div class="conformance-list"><dl><dt class="varlistentry"><span class="term">Container-constrained scripts</span></dt><dd><p id="confreq-cd-scripted-container"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-scripted-container">›</a> </span>A container-constrained script must not contain instructions for modifying the DOM of the parent Content Document or other contents in the Publication, and must not contain instructions for manipulating the size of its containing rectangle.</p></dd><dt class="varlistentry"><span class="term">Spine-level scripts</span></dt><dd><p id="confreq-cd-scripted-spine"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-scripted-spine">›</a> </span>EPUB Content Documents that include <a class="xref" href="#sec-scripted-content-type-spine-level">spine-level</a> scripting must utilize the <em>progressive enhancement technique</em>, which for the purposes of this specification has the following definition: when the document is rendered by a Reading System without scripting support or with scripting support disabled, the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-top-level" title="Top-level Content Document">top-level document content</a> must retain its integrity, remaining consumable by the User without any information loss or other significant deterioration.</p></dd><dt class="varlistentry"><span class="term">Accessibility</span></dt><dd><p id="confreq-cd-scripted-a11y"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-scripted-a11y">›</a> </span>EPUB Content Documents that include scripting — using any <a href="#sec-scripted-content-models">inclusion model</a> — should employ relevant accessibility techniques to ensure that the content remains consumable by all Users. <a class="biblioref" href="epub30-references.xhtml#refARIA" title="Accessible Rich Internet Applications (WAI-ARIA) 1.0">[<abbr>WAI-ARIA</abbr>]</a> <a class="biblioref" href="epub30-references.xhtml#refWCAG20" title="Web Content Accessibility Guidelines (WCAG) 2.0">[<abbr>WCAG20</abbr>]</a> </p></dd><dt class="varlistentry" id="confreq-cd-scripted-flbk"><span class="term">Fallbacks</span></dt><dd><p id="confreq-cd-scripted-fallback"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-scripted-fallback">›</a> </span>EPUB Content Documents that include scripting — using any <a href="#sec-scripted-content-models">inclusion model</a> — may provide fallbacks for such content, either by using intrinsic fallback mechanisms (such as those available for the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a href="http://www.w3.org/TR/html5/Overview.html#the-object-element">object</a></code> and <code><a href="http://www.w3.org/TR/html5/Overview.html#the-canvas-element">canvas</a></code> elements) or, when an intrinsic fallback is not applicable, by using a <span class="phrase"><a href="epub30-publications.xhtml#sec-fallback-processing-flow-manifest">manifest-level</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> fallback.</p></dd></dl></div><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property"><span class="phrase"><a href="epub30-publications.xhtml#scripted">scripted</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></span> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element indicates that an EPUB Content Document is a <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-scripted" title="Scripted Content Document">Scripted Content Document</a>. </p></div></section><section class="section" title="2.4.3 Reading System Conformance" id="sec-scripted-content-rs-reqs"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-content-rs-reqs">›</a> </span>2.4.3 Reading System Conformance</h4><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> support for scripting is optional. A Reading System that supports scripting must meet the following criteria:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-rs-scripted-support"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-support">›</a> </span>It must support <a class="xref" href="#sec-scripted-content-type-container-constrained">container-constrained</a> scripting and may support <a class="xref" href="#sec-scripted-content-type-spine-level">spine-level</a> scripting.</p></li><li class="listitem"><p id="confreq-rs-scripted-ua"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-ua">›</a> </span>It may render <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-scripted" title="Scripted Content Document">Scripted Content Document</a>s as an interactive, scripted User Agent according to <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a>. </p></li><li class="listitem"><p id="confreq-rs-scripted-container"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-container">›</a> </span>It must not allow a container-constrained script to modify the DOM of the parent Content Document or other contents in the Publication, and must not allow it to manipulate the size of its containing rectangle. (Note: Even if a script is not container-constrained, the Reading System may impose restrictions on modifications (see also the <a href="#feature-dom-manipulation">dom-manipulation feature</a>).)</p></li><li class="listitem"><p id="confreq-rs-scripted-limit"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-limit">›</a> </span>It may place additional limitations on the capabilities provided to scripts during execution (e.g., limiting networking).</p></li><li class="listitem"><p id="confreq-rs-scripted-readingsystem-object"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-readingsystem-object">›</a> </span>It must implement the JavaScript <code>navigator</code> extension object <code>epubReadingSystem</code> defined in <a class="xref" href="#app-epubReadingSystem" title="Appendix B. JavaScript epubReadingSystem Object">Appendix B, <em>JavaScript epubReadingSystem Object</em></a>. It also must support the <code>dom-manipulation</code> and <code>layout-change</code> features defined in <a class="xref" href="#app-ers-hasFeature-features" title="B.4.1.3 Features">Features</a> in container-constrained scripting contexts.</p></li><li class="listitem"><p id="confreq-rs-scripted-prop"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-prop">›</a> </span>It must regard the <code><span class="phrase"><a href="epub30-publications.xhtml#scripted">scripted</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></code> property of the <a class="glossterm" href="epub30-terminology.xhtml#gloss-package-document" title="Package Document">Package Document</a> <a class="glossterm" href="epub30-terminology.xhtml#gloss-manifest" title="Manifest">manifest</a> <code>item</code> element as the authoritative definition of whether an EPUB Content Document includes scripting.</p></li></ul></div><p>A Reading System that does not support scripting must meet the following criteria:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-rs-scripted-flbk"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-scripted-flbk">›</a> </span>It must process fallbacks for scripted content as defined in <a class="xref" href="#confreq-cd-scripted-flbk">Fallbacks for Scripted Content Documents</a>. </p></li></ul></div><div class="note" title="note"><h3 class="title">note</h3><p>Reading Systems may render Scripted Content Documents in a manner that disables other EPUB capabilities and/or provides a different rendering and User experience (e.g., by disabling pagination).</p><p>Authors choosing to restrict the usage of scripting to the <a class="xref" href="#sec-scripted-content-type-container-constrained">container-constrained</a> model will ensure a more consistent User experience between scripted and non-scripted content (e.g., consistent pagination behavior).</p><p>Authors should use declarative techniques whenever practical to increase the interoperability, longevity and accessibility of their Publications, and avoid the inclusion of scripting whenever practical.</p></div></section><section class="section" title="2.4.4 Security Considerations" id="sec-scripted-content-security"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-content-security">›</a> </span>2.4.4 Security Considerations</h4><p class="informative"> This section is informative</p><p>All EPUB <a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s and Reading System developers need to be aware of the security issues that arise when scripted content is executed by a Reading System. As the underlying scripting model employed by Reading Systems and browsers is the same, the same kinds of issues encountered in Web contexts must be taken into consideration.</p><p>Each Reading System should establish if the scripts in a particular document are to be trusted or not. It is recommended that all scripts be treated as untrusted (and potentially malicious), and that all vectors of attack be examined and protected against. In particular, the following should be considered:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>an attack against the runtime environment (e.g., stealing files from a <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a>'s hard drive);</p></li><li class="listitem"><p>an attack against the Reading System itself (e.g., stealing a list of a User's books or causing unexpected behavior);</p></li><li class="listitem"><p>an attack of one Content Document against another (e.g., stealing data that originated in a different document);</p></li><li class="listitem"><p>an attack of an unencrypted script against an encrypted portion of a document (e.g., an injected malicious script extracting protected content);</p></li><li class="listitem"><p>an attack against the local network (e.g., stealing data from a server behind a firewall).</p></li></ul></div><p>The following recommendations are provided as a guide to handling untrusted scripts:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Reading Systems should behave as if a unique domain were allocated to each Content Document, as browser-based security relies heavily on document URLs and domains. Adopting this approach will isolate documents from each other and from other Internet domains, thereby limiting access to external URLs, cookies, DOM storage, etc.</p><p>Reading Systems that enable scripting and network access should also consider including methods to notify the user that network activity is occurring and/or that allow them to disable it.</p><div class="note" title="note"><h3 class="title">note</h3><p>In practice, Reading Systems may share domains across documents, but they still should maintain isolation between documents.</p><p>If parts of a document are encrypted and parts are not, or if different encryption keys are used for different parts of the document, a unique per-document domain might not provide sufficient protection.</p></div></li><li class="listitem"><p>If a Reading System allows persistent data to be stored, that data should be treated as sensitive. Scripts may save persistent data through cookies and DOM storage, but Reading Systems may block such attempts. Reading Systems that do allow data to be stored must ensure that it is not made available to other unrelated documents (e.g., ones that could have been spoofed). In particular, checking for a matching document identifier (or similar metadata) is not a valid method to control access to persistent data.</p><p>Reading Systems that allow local storage should also provide methods for Users to inspect, disable, or delete that data. The data should be destroyed if the corresponding EPUB Publication is deleted.</p></li></ul></div><p>Note that compliance with these recommendations does not guarantee protection from the possible attacks listed above; developers must examine each potential vulnerability within the context of their Reading System.</p></section><section class="section" title="2.4.5 Event Model Considerations" id="sec-scripted-content-events"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-scripted-content-events">›</a> </span>2.4.5 Event Model Considerations</h4><p class="informative"> This section is informative</p><p>Reading Systems should follow the DOM Event model as per <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> and pass UI events to the scripting environment before performing any default action associated with these events. Reading System implementers should ensure that scripts cannot disable critical functionality (such as navigation) to constrain the extent to which a <a href="#sec-scripted-content-events" title="2.4.5 Event Model Considerations">potentially malicious</a> script could impact their Reading Systems. As a result, although the scripting environment should be able to cancel the default action of any event, some events either might not be passed through or might not be cancelable.</p><p><a class="glossterm" href="epub30-terminology.xhtml#gloss-author" title="Author">Author</a>s should take into account the wide variety of possible Reading System implementations when adding scripting functionality to their Publications (e.g., not all devices have physical keyboard, and in many cases a soft keyboard is only activated only for text input elements). Consequently, relying on keyboard events alone is not recommended; alternative ways to trigger the desired action should always be provided.</p></section></section></section><section class="chapter" title="3 EPUB Style Sheets" id="sec-css"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css">›</a> </span>3 EPUB Style Sheets</h2><p>This section defines a profile for Cascading Style Sheets (CSS) intended to be used for styling of <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s. An instance of a CSS Style Sheet that conforms to this profile is a <a class="glossterm" href="epub30-terminology.xhtml#gloss-core-media-type" title="Core Media Type">Core Media Type</a> and is referred to in this specification and its <a href="#sibling-specs">sibling specifications</a> as an <a class="glossterm" href="epub30-terminology.xhtml#gloss-stylesheet" title="EPUB Style Sheet (or Style Sheet)">EPUB Style Sheet</a>. </p><div class="caution" title="caution" id="caution-css"><h3 class="title">caution</h3><p>The EPUB 3 CSS Profile references CSS specifications that are still works in progress and may change in incompatible ways. When utilizing features from such specifications, authors should consider the inherent risks in terms of the potential impact on interoperability and document longevity.</p></div><div class="note" title="note" id="note-css-unprefixed-authoring"><h3 class="title">note</h3><p>The EPUB 3 CSS Profile employs the usage of the <code class="literal">-epub-</code> <a href="http://www.w3.org/TR/CSS21/syndata.html#vendor-keywords">prefix</a> for a number of CSS3 property names, as detailed below. As the CSS3 modules that define these properties mature and stabilize, EPUB authoring guidelines may encourage authors to also include unprefixed equivalents of these properties in EPUB 3 Style Sheets.</p></div><section class="section" title="3.1 Content Conformance" id="sec-css-content-conf"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-content-conf">›</a> </span>3.1 Content Conformance</h3><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-stylesheet" title="EPUB Style Sheet (or Style Sheet)">EPUB Style Sheet</a> must meet all of the following criteria:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem" id="confreq-content-css-support"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-content-css-support">›</a> </span>It must adhere to all content restrictions given in <a class="xref" href="#sec-css-profile" title="3.3 EPUB 3 CSS Profile">EPUB 3 CSS Profile</a>. </p></li><li class="listitem" id="confreq-content-css-unsupport"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-content-css-unsupport">›</a> </span>It may include constructs not explicitly identified in the EPUB 3 CSS Profile, but should be authored so that rendering fidelity does not depend on such additional constructs.</p></li><li class="listitem" id="confreq-content-css-encoding"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-content-css-encoding">›</a> </span>It must be UTF-8 or UTF-16 encoded.</p></li></ul></div><div class="note" title="note" id="note-css-refprops-pkg"><h3 class="title">note</h3><p>All <a class="glossterm" href="epub30-terminology.xhtml#gloss-publication-resource-cmt-or-foreign" title="Publication Resource">Publication Resource</a>s referenced from a CSS Style Sheet must conform to the constraints for Publication Resources defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conf">EPUB Publication — Content Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span></p></div></section><section class="section" title="3.2 Reading System Conformance" id="sec-css-rs-conf"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-rs-conf">›</a> </span>3.2 Reading System Conformance</h3><div class="conformance-list"><ul class="conformance-list"><li class="listitem" id="confreq-rs-css-support"><p><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-css-support">›</a> </span>Reading Systems with a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a> should support — render as defined by the corresponding specification in the Viewport — all CSS constructs included in this profile unless detailed otherwise in <a class="xref" href="#sec-css-profile" title="3.3 EPUB 3 CSS Profile">EPUB 3 CSS Profile</a>. </p></li><li class="listitem"><p id="confreq-rs-css-unsupport"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-rs-css-unsupport">›</a> </span>Reading Systems may support additional CSS constructs not explicitly identified in the EPUB 3 CSS Profile, and must handle any unsupported constructs as <a href="http://www.w3.org/TR/CSS21/conform.html#ignore">defined</a> in <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a>. </p></li></ul></div><div class="note" title="note" id="note-rs-css-support"><h3 class="title">note</h3><p>Reading Systems have varying capabilities with regards to CSS rendering support, so may ignore some or all style information of an EPUB Style Sheet.</p><p>In addition, even when a Reading System does have a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a>, it is likely to render content in a manner that differs from typical HTML5 User Agents (e.g., paginating content rather than providing a infinitely scrolling surface). </p></div></section><section class="section" title="3.3 EPUB 3 CSS Profile" id="sec-css-profile"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-profile">›</a> </span>3.3 EPUB 3 CSS Profile</h3><section class="section" title="3.3.1 CSS 2.1" id="sec-css-2.1"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-2.1">›</a> </span>3.3.1 CSS 2.1</h4><p>The style baseline of the EPUB 3 CSS Profile is Cascading Style Sheets Level 2 Revision 1 <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a>. The profile includes all style sheet constructs normatively defined in <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a>, with the following exceptions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <code class="literal">fixed</code> value of the <span class="property">position</span> property is not part of the EPUB 3 CSS Profile. To avoid potential rendering and interoperability issues, it should not be included in an EPUB Style Sheet.</p></li><li class="listitem"><p>The <span class="property">direction</span> and <span class="property">unicode-bidi</span> properties must not be included in an EPUB Style Sheet. Authors should use appropriate <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> markup to express directionality information instead. </p></li></ul></div><p>Reading Systems that have a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a> must support the <span class="property">font-family</span> property.</p><div class="note" title="note"><h3 class="title">note</h3><p>The ability of Reading Systems to paginate absolutely positioned layouts is not guaranteed, so reliance on absolute positioning is discouraged. Reading Systems might not support these property values.</p></div></section><section class="section" title="3.3.2 CSS 2.0" id="sec-css-2.0-list-style-type"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-2.0-list-style-type">›</a> </span>3.3.2 CSS 2.0</h4><p>The EPUB 3 CSS Profile includes the following values for the <span class="property">list-style-type</span> property as <a href="http://www.w3.org/TR/2008/REC-CSS2-20080411/generate.html#lists">defined in</a> <a class="biblioref" href="epub30-references.xhtml#refCSS20" title="Cascading Style Sheets, level 2 - CSS2 Specification">[<abbr>CSS2.0</abbr>]</a>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> <code class="literal">cjk-ideographic</code> </p></li><li class="listitem"><p> <code class="literal">hebrew</code> </p></li><li class="listitem"><p> <code class="literal">hiragana</code> </p></li><li class="listitem"><p> <code class="literal">hiragana-iroha</code> </p></li><li class="listitem"><p> <code class="literal">katakana</code> </p></li><li class="listitem"><p> <code class="literal">katakana-iroha</code> </p></li></ul></div></section><section class="section" title="3.3.3 CSS 3.0 Speech" id="sec-css-voice-characteristics"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-voice-characteristics">›</a> </span>3.3.3 CSS 3.0 Speech</h4><p>The EPUB 3 CSS Profile includes <code class="literal">-epub-</code> prefixed versions of the following properties from the CSS3 Speech Module <a class="biblioref" href="epub30-references.xhtml#refCSS3Speech" title="CSS3 Speech Module">[<abbr>CSS3Speech</abbr>]</a> using syntax as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Speech-dated" title="CSS3 Speech Module (20110818)">[<abbr>CSS3Speech-20110818</abbr>]</a> and semantics as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Speech" title="CSS3 Speech Module">[<abbr>CSS3Speech</abbr>]</a>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> <code class="literal">-epub-cue</code> </p></li><li class="listitem"><p> <code class="literal">-epub-pause</code> </p></li><li class="listitem"><p> <code class="literal">-epub-rest</code> </p></li><li class="listitem"><p> <code class="literal">-epub-speak</code> </p></li><li class="listitem"><p> <code class="literal">-epub-speak-as</code> </p></li><li class="listitem"><p> <code class="literal">-epub-voice-family</code> </p></li></ul></div><div class="note" title="note"><h3 class="title">note</h3><p>For more information on EPUB 3 features related to synthetic speech, refer to <span class="phrase"><a href="epub30-overview.xhtml#sec-tts">Text-to-speech</a> <a class="biblioref" href="epub30-references.xhtml#refEPUB3Overview" title="EPUB 3 Overview">[<abbr>EPUB3Overview</abbr>]</a></span>.</p></div></section><section class="section" title="3.3.4 CSS Fonts Level 3" id="sec-css-fonts"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-fonts">›</a> </span>3.3.4 CSS Fonts Level 3</h4><p>The EPUB 3 CSS Profile includes <code class="literal">@font-face</code> rules and descriptors as defined in the CSS Fonts Module Level 3 <a class="biblioref" href="epub30-references.xhtml#refCSS3FontsModule" title="CSS Fonts Module Level 3">[<abbr>CSS3Fonts</abbr>]</a> specification, using syntax as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3FontsModule-dated" title="CSS Fonts Module Level 3 (20110324)">[<abbr>CSS3Fonts-20110324</abbr>]</a> and semantics as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3FontsModule" title="CSS Fonts Module Level 3">[<abbr>CSS3Fonts</abbr>]</a>. </p><p id="confreq-rs-embedded-font-types">Reading Systems with a <a class="glossterm" href="epub30-terminology.xhtml#gloss-viewport-css" title="CSS Viewport">CSS Viewport</a> must support OpenType <a class="biblioref" href="epub30-references.xhtml#refOpenType" title="ISO/IEC 14496-22:2009 - Information technology -- Coding of audio-visual objects -- Part 22: Open Font Format">[<abbr>OpenType</abbr>]</a> and WOFF <a class="biblioref" href="epub30-references.xhtml#refWOFF" title="WOFF File Format 1.0">[<abbr>WOFF</abbr>]</a> fonts embedded using the <code class="literal">@font-face</code> rule.</p><div class="note" title="note"><h3 class="title">note</h3><p>Refer to <span class="phrase"><a href="epub30-publications.xhtml#confreq-resources-font-fallback">Embedded Font Intrinsic Fallback</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span> for font fallback processing requirements. </p></div><p>In addition, Reading Systems must support at least the following <code class="literal">@font-face</code> font descriptors. </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> <code class="literal">font-family</code> </p></li><li class="listitem"><p> <code class="literal">font-style</code> </p></li><li class="listitem"><p> <code class="literal">font-weight</code> </p></li><li class="listitem"><p> <code class="literal">src</code> </p></li><li class="listitem"><p> <code class="literal">unicode-range</code> </p></li></ul></div><p>For forwards compatibility with EPUB 2 Reading Systems that do not support <a href="#sec-css-fonts" title="3.3.4 CSS Fonts Level 3"><code class="literal">@font-face</code> rules</a>, authors should reference a generic font using the <span class="property">font-family</span> property.</p><div class="note" title="note"><h3 class="title">note</h3><p>Refer to <span class="phrase"><a href="epub30-ocf.xhtml#font-obfuscation">Font Obfuscation</a> <a class="biblioref" href="epub30-references.xhtml#refOCF30" title="Open Container Format 3.0">[<abbr>OCF3</abbr>]</a></span> for Reading System font obfuscation requirements. </p></div></section><section class="section" title="3.3.5 CSS Text Level 3" id="sec-css-text"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-text">›</a> </span>3.3.5 CSS Text Level 3</h4><p>The EPUB 3 CSS Profile includes <code class="literal">-epub-</code> prefixed versions of the following properties from the CSS Text Level 3 <a class="biblioref" href="epub30-references.xhtml#refCSS3Text" title="CSS Text Level 3">[<abbr>CSS3Text</abbr>]</a> specification using syntax as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Text-dated" title="CSS Text Level 3 (20110412)">[<abbr>CSS3Text-20110412</abbr>]</a> and semantics as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Text" title="CSS Text Level 3">[<abbr>CSS3Text</abbr>]</a>. </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> <span class="property">-epub-hyphens</span>* </p></li><li class="listitem"><p> <span class="property">-epub-line-break</span> </p></li><li class="listitem"><p> <span class="property">-epub-text-align-last</span> </p></li><li class="listitem"><p> <span class="property">-epub-text-emphasis</span> </p></li><li class="listitem"><p> <span class="property">-epub-text-emphasis-color</span> </p></li><li class="listitem"><p> <span class="property">-epub-text-emphasis-style</span> </p></li><li class="listitem"><p> <span class="property">-epub-word-break</span> </p></li></ul></div><p>* The <span class="property">-epub-hyphens</span> property does not include support for the value <code class="literal">all</code>.</p><p>In addition, the EPUB 3 CSS Profile includes the unprefixed <span class="property">text-transform</span> property from CSS Text Level 3 using semantics as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Text" title="CSS Text Level 3">[<abbr>CSS3Text</abbr>]</a> and syntax as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3Text-dated" title="CSS Text Level 3 (20110412)">[<abbr>CSS3Text-20110412</abbr>]</a>, with the exception that the <code class="literal">fullwidth</code> and <code class="literal">fullsize-kana</code> values are prefixed in the EPUB 3 CSS Profile (<code class="literal">-epub-fullwidth</code> and <code class="literal">-epub-fullsize-kana</code>, respectively). </p></section><section class="section" title="3.3.6 CSS Writing Modes" id="sec-css-writing-modes"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-writing-modes">›</a> </span>3.3.6 CSS Writing Modes</h4><p>With exceptions for the <span class="property">direction</span> and <span class="property">unicode-bidi</span> properties <a href="#css-writing-modes-excl">as noted below</a>, the EPUB 3 CSS Profile includes all of the features defined in the CSS Writing Modes Module Level 3 <a class="biblioref" href="epub30-references.xhtml#refCSS3WritingModesModule" title="CSS Writing Modes Module Level 3">[<abbr>CSS3WritingModes</abbr>]</a> specification using <code class="literal">-epub-</code> prefixed property names, syntax as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3WritingModesModule-dated" title="CSS Writing Modes Module Level 3 (20110428)">[<abbr>CSS3WritingModes-20110428</abbr>]</a> and semantics as defined in <a class="biblioref" href="epub30-references.xhtml#refCSS3WritingModesModule" title="CSS Writing Modes Module Level 3">[<abbr>CSS3WritingModes</abbr>]</a>. </p><p id="css-writing-modes-excl">The <span class="property">direction</span> and <span class="property">unicode-bidi</span> properties from <a class="biblioref" href="epub30-references.xhtml#refCSS3WritingModesModule" title="CSS Writing Modes Module Level 3">[<abbr>CSS3WritingModes</abbr>]</a> are not included in the EPUB 3 CSS Profile. Authors should use appropriate <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> markup to express directionality information instead.</p></section><section class="section" title="3.3.7 Media Queries" id="sec-css-media-queries"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-media-queries">›</a> </span>3.3.7 Media Queries</h4><p>The EPUB 3 CSS Profile includes <code class="literal">@media</code> and <code class="literal">@import</code> rules with media queries as defined in the Media Queries <a class="biblioref" href="epub30-references.xhtml#refMediaQueries" title="Media Queries">[<abbr>MediaQueries</abbr>]</a> specification.</p></section><section class="section" title="3.3.8 CSS Namespaces" id="sec-css-namespaces"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-namespaces">›</a> </span>3.3.8 CSS Namespaces</h4><p>The EPUB 3 CSS Profile includes the <code>@namespace</code> rule defined in <a class="biblioref" href="epub30-references.xhtml#refCSSNamespacesModule" title="CSS Namespaces Module">[<abbr>CSS Namespaces</abbr>]</a> for declaring the default namespace for a style sheet and for binding prefixes to namespaces.</p></section><section class="section" title="3.3.9 CSS Multi-Column Layout" id="sec-css-multi-column"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-multi-column">›</a> </span>3.3.9 CSS Multi-Column Layout</h4><p>The EPUB 3 CSS Profile includes all of the features defined in the CSS Multi-column Layout Module <a class="biblioref" href="epub30-references.xhtml#refCSS3Multicol" title="CSS Multi-column Layout Module">[<abbr>CSSMultiCol</abbr>]</a> specification with the exception of the <span class="property">column-span</span> property. </p><div class="caution" title="caution"><h3 class="title">caution</h3><p>Authors should not rely on column behavior in overflow conditions as this behavior is unstable and may change.</p></div><div class="caution" title="caution"><h3 class="title">caution</h3><p>Pagination algorithms are not fully defined in CSS. Authors should therefore expect exact pagination points to vary from Reading System to Reading System.</p></div><p>Reading Systems must treat the <span class="property">oeb-column-number</span> property as an alias for the <span class="property">column-count</span> property. The use of the <span class="property">oeb-column-number</span> property in EPUB Style Sheets is deprecated; this conformance requirement may be removed in the next major version of EPUB.</p></section><section class="section" title="3.3.10 Ruby Positioning" id="sec-css-ruby-position"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-ruby-position">›</a> </span>3.3.10 Ruby Positioning</h4><p>The EPUB 3 CSS Profile includes the <span class="property">-epub-ruby-position</span> property as defined below:</p><table id="d14232e4083"><thead><tr> <td>Name:</td> <td>-epub-ruby-position</td> </tr></thead><tbody><tr> <td>Value:</td> <td><code class="literal">over</code> | <code class="literal">under</code> | <code class="literal">inter-character</code> </td> </tr><tr> <td>Initial:</td> <td>over</td> </tr><tr> <td>Applies to:</td> <td>ruby text elements</td> </tr><tr> <td>Inherited:</td> <td>yes</td> </tr><tr> <td>Percentages:</td> <td>N/A</td> </tr><tr> <td>Media:</td> <td>visual</td> </tr><tr> <td>Computed value:</td> <td>as specified</td> </tr></tbody></table><p>This property controls the placement of ruby text with respect to its base text. Values have the following meanings:</p><div class="variablelist"><dl><dt class="varlistentry"><span class="term"> <code class="literal">over</code> </span></dt><dd><p>Ruby text is positioned on the <a href="http://www.w3.org/TR/css3-writing-modes/#over">over</a> side of the ruby base.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">under</code> </span></dt><dd><p>Ruby text is positioned on the <a href="http://www.w3.org/TR/css3-writing-modes/#under">under</a> side of the ruby base.</p></dd><dt class="varlistentry"><span class="term"> <code class="literal">inter-character</code> </span></dt><dd><p>Ruby text is positioned on the right side of the base text. (This value is typically used for Zhuyin Fuhao (Bopomofo) ruby.)</p></dd></dl></div><div class="note" title="note"><h3 class="title">note</h3><p>The <span class="property">-epub-ruby-position</span> property will become an alias for the <span class="property">ruby-position</span> property in the CSS Ruby Module <a class="biblioref" href="epub30-references.xhtml#refCSS3Ruby" title="CSS3 Ruby Annotation Module">[<abbr>CSS3Ruby</abbr>]</a>. </p></div></section><section class="section" title="3.3.11 Display Property Values oeb-page-head and oeb-page-foot" id="sec-css-oeb-head-foot"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-css-oeb-head-foot">›</a> </span>3.3.11 Display Property Values <code>oeb-page-head</code> and <code>oeb-page-foot</code></h4><p>In addition to the standard values defined for the <code>display</code> property in <a href="http://www.w3.org/TR/CSS2/visuren.html#display-prop">Section 9.2.4</a> of <a class="biblioref" href="epub30-references.xhtml#refCSS21" title="Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification">[<abbr>CSS2.1</abbr>]</a>, EPUB Style Sheets may specify the values <code class="literal">oeb-page-head</code> and <code class="literal">oeb-page-foot</code>. </p><p>Reading Systems should present the content of an element assigned <code>display: oeb-page-head</code> only as a header, and the content of an element assigned <code>display: oeb-page-foot</code> only as a footer. Neither should be presented simply as if it were <code>inline</code> or <code>block</code>. The way Reading Systems present headers and footers is not defined by this specification (e.g., they may render them in fixed positions as per print layouts or pop them up on demand if only limited screen space is available). </p><p>For the purposes of page layout, these display values are similar to block boxes with an absolute position (i.e., a position value of <span class="property">fixed</span> or <span class="property">absolute</span>). That is, they are removed from the normal flow and a new block box is created with its own flow. Margins, padding, and other block characteristics are determined as if the element had <code>position: fixed</code> set. </p><p>An element assigned <code>display: oeb-page-head</code> or <code>display: oeb-page-foot</code> must not be considered in effect while any markup specified before such an element is still being rendered in the same context (for example, if it is on the same page in a paginated context, or in the viewport for a scrolled context). Once in effect, the element must remain in effect until either of the following conditions is true:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>another header or footer (respectively) is in effect instead; or</p></li><li class="listitem"><p>no part of its parent element remains presented.</p></li></ul></div><p>For example, when rendered to a screen with appropriate style settings, the <span class="property">myhead</span>-classed <code>div</code> element in the following example would become the page header as soon as nothing preceding the containing <code>div</code> is displayed, and go out of effect when that <code>div</code> is no longer visible:</p><div class="informalexample" id="example-css-header"><pre class="synopsis">
 &lt;div&gt;
   &lt;div class="myhead" style="display: none; display: oeb-page-head"&gt;
      The OEB Publication Structure: Introduction
   &lt;/div&gt;
   &lt;h2&gt;Introduction&lt;/h2&gt;
   &lt;p&gt;…&lt;/p&gt;
&lt;/div&gt;</pre></div><div class="note" title="note"><h3 class="title">note</h3><p>The <code>display</code> property has its value set to <code class="literal">none</code> in the preceding example before setting it to <code>oeb-page-head</code> to ensure that Reading Systems that do not support this feature do not display the content. This approach is recommended whenever setting the <code class="literal">oeb-page-head</code> or <code class="literal">oeb-page-foot</code> values.</p></div></section></section></section><section class="chapter" title="4 PLS Documents" id="sec-pls"><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-pls">›</a> </span>4 PLS Documents</h2><section class="section" title="4.1 Overview" id="sec-pls-overview"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-pls-overview">›</a> </span>4.1 Overview</h3><p class="informative"> This section is informative</p><p>The W3C Pronunciation Lexicon Specification <a class="biblioref" href="epub30-references.xhtml#refPLS" title="Pronunciation Lexicon Specification 1.0 (PLS)">[<abbr>PLS</abbr>]</a> defines syntax and semantics for XML-based pronunciation lexicons to be used by Automatic Speech Recognition and <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> engines.</p><p>The following sections define conformance criteria for PLS documents when included in <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a>s, and rules for associating PLS Documents with <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s. </p><div class="note" title="note"><h3 class="title">note</h3><p>For more information on EPUB 3 features related to synthetic speech, refer to <span class="phrase"><a href="epub30-overview.xhtml#sec-tts">Text-to-speech</a> <a class="biblioref" href="epub30-references.xhtml#refEPUB3Overview" title="EPUB 3 Overview">[<abbr>EPUB3Overview</abbr>]</a></span>.</p></div></section><section class="section" title="4.2 EPUB Publication Conformance" id="sec-pls-conf-pub"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-pls-conf-pub">›</a> </span>4.2 EPUB Publication Conformance</h3><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-publication" title="EPUB Publication (or Publication)">EPUB Publication</a> must meet all of the following criteria for inclusion of PLS Documents:</p><div class="conformance-list"><ul class="conformance-list"><li class="listitem"><p id="confreq-cd-pls-xht"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-xht">›</a> </span>PLS Documents may be associated with <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a>s. Each XHTML Content Document may contain zero or more PLS Document associations. </p></li><li class="listitem"><p id="confreq-cd-pls-assoc"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-assoc">›</a> </span>PLS Documents must be associated with the <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-xhtml" title="XHTML Content Document">XHTML Content Document</a> to which it applies using the <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> <code><a class="code" href="http://www.w3.org/TR/html5/Overview.html#the-link-element">link</a></code> element with its <code>rel</code> attribute set to <code class="literal">pronunciation</code> and its <code>type</code> attribute set to the <span class="phrase"><a href="epub30-publications.xhtml#cmt-pls">PLS media type</a></span> (<code class="literal">application/pls+xml</code>).</p><p id="confreq-cd-pls-assoc-lang"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-assoc-lang">›</a> </span>The <code>link</code> element <code>hreflang</code> attribute should be specified on each PLS <code>link</code>, and its value must match <a href="http://www.w3.org/TR/pronunciation-lexicon/#S4.1">the language for which the pronunciation lexicon is relevant</a> <a class="biblioref" href="epub30-references.xhtml#refPLS" title="Pronunciation Lexicon Specification 1.0 (PLS)">[<abbr>PLS</abbr>]</a> when specified.</p></li><li class="listitem"><p id="confreq-pls-pub-cont"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-pub-cont">›</a> </span>PLS Documents must meet the content conformance criteria defined in <a class="xref" href="#sec-pls-conf-content" title="4.3 Content Conformance">PLS Documents — Content Conformance</a>. </p></li><li class="listitem"><p id="confreq-pls-pub-manif"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-pub-manif">›</a> </span>PLS Documents must be represented and located as defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-epub-content-conf">EPUB Publication — Content Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>.</p></li></ul></div><p class="bridgehead" title="4.2. Examples">Examples</p><div class="informalexample"><p>The following example shows two PLS Documents (one for Chinese and one for Mongolian) associated with an XHTML Content Document.</p><pre class="synopsis">
&lt;html … &gt;    
    &lt;head&gt;
        …
        &lt;link rel="pronunciation" type="application/pls+xml" hreflang="zh" href="../speech/zh.pls"/&gt;
        &lt;link rel="pronunciation" type="application/pls+xml" hreflang="mn" href="../speech/mn.pls"/&gt;
    &lt;/head&gt;        
    …
&lt;/html&gt;</pre></div></section><section class="section" title="4.3 Content Conformance" id="sec-pls-conf-content"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-pls-conf-content">›</a> </span>4.3 Content Conformance</h3><p>To be considered a <a class="glossterm" href="epub30-terminology.xhtml#gloss-publication-resource-cmt" title="Core Media Type Resource">Core Media Type Resource</a>, a PLS Document must meet all of the following criteria:</p><div class="conformance-list" id="confreq-cd-pls"><dl><dt class="varlistentry" id="confreq-cd-pls-docprops"><span class="term">Document Properties</span></dt><dd><p id="confreq-cd-pls-xml"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-xml">›</a> </span> <span class="phrase">It must meet the conformance constraints for XML documents defined in <span class="phrase"><a href="epub30-publications.xhtml#sec-xml-constraints">XML Conformance</a> <a class="biblioref" href="epub30-references.xhtml#refPublications3" title="EPUB Publications 3.0">[<abbr>Publications30</abbr>]</a></span>. </span> </p><p id="confreq-cd-pls-docprops-schema"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-docprops-schema">›</a> </span>It must be valid to the RELAX NG schema for PLS documents available at the URI <a href="http://www.w3.org/TR/pronunciation-lexicon/pls.rng">http://www.w3.org/TR/pronunciation-lexicon/pls.rng</a> <a class="biblioref" href="epub30-references.xhtml#refPLS" title="Pronunciation Lexicon Specification 1.0 (PLS)">[<abbr>PLS</abbr>]</a>. </p></dd><dt class="varlistentry" id="confreq-cd-pls-fileprops"><span class="term">File Properties</span></dt><dd><p id="confreq-cd-pls-fileprops-name"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-cd-pls-fileprops-name">›</a> </span>The PLS Document filename should use the file extension <code class="filename">.pls</code>.</p></dd></dl></div></section><section class="section" title="4.4 Reading System Conformance" id="sec-pls-conf-rs"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#sec-pls-conf-rs">›</a> </span>4.4 Reading System Conformance</h3><p>A conformant <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">EPUB Reading System</a> must meet all of the following criteria for processing PLS Documents:</p><div class="conformance-list" id="pls-rs-confreqs"><ul class="conformance-list"><li class="listitem"><p id="confreq-pls-rs-sptts"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-rs-sptts">›</a> </span>Reading Systems with <a class="glossterm" href="epub30-terminology.xhtml#gloss-tts" title="Text-to-Speech (TTS)">Text-to-Speech (TTS)</a> capabilities should support PLS.</p><p id="confreq-pls-rs-proc"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-rs-proc">›</a> </span>Reading Systems that support PLS must process PLS documents as defined in <a class="biblioref" href="epub30-references.xhtml#refPLS" title="Pronunciation Lexicon Specification 1.0 (PLS)">[<abbr>PLS</abbr>]</a>. </p><p id="confreq-pls-rs-scope"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-rs-scope">›</a> </span>Reading Systems that support PLS must apply the supplied pronunciation instructions to all text nodes in the current XHTML Content Document whose <a href="http://www.w3.org/TR/html5/Overview.html#the-lang-and-xml:lang-attributes">language</a> <a class="biblioref" href="epub30-references.xhtml#refHTML5" title="HTML5: A vocabulary and associated APIs for HTML and XHTML">[<abbr>HTML5</abbr>]</a> matches <a href="http://www.w3.org/TR/pronunciation-lexicon/#S4.1">the language for which the pronunciation lexicon is relevant</a> <a class="biblioref" href="epub30-references.xhtml#refPLS" title="Pronunciation Lexicon Specification 1.0 (PLS)">[<abbr>PLS</abbr>]</a>. The algorithm for matching language tags is defined in <a class="biblioref" href="epub30-references.xhtml#refRFC5646" title="Tags for Identifying Languages (RFC 5646)">BCP47</a>. </p><p id="confreq-pls-rs-multi"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-rs-multi">›</a> </span> When a pronunciation rule is specified more than once for a given string target in a given language, the last occurrence of the rule takes precedence, in such a way that any previously-defined pronunciation rule gets overridden. </p><p id="confreq-pls-rs-casc"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#confreq-pls-rs-casc">›</a> </span>Reading Systems that support PLS and the <a href="#sec-xhtml-ssml-attrib" title="2.1.3.2 SSML Attributes">SSML Attributes</a> must let any pronunciation instructions provided via the <a href="#sec-cd-ssml-ph-attrib" title="2.1.3.2.2 The ssml:ph attribute"><code>ssml:ph</code> attribute</a> take precedence in cases where a <code>pls:grapheme</code> matches a text node of an element that carries the <code>ssml:ph</code> attribute.</p></li></ul></div></section></section><div class="appendix" title="Appendix A. Schemas" id="app-schemas"><div class="titlepage"><div><div><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-schemas">›</a> </span>Appendix A. Schemas</h2></div></div></div><p>The schemas in this Appendix are normative.</p><div class="note" title="note"><h3 class="title">note</h3><p>Validation using these schemas will require a processor that supports <a class="biblioref" href="epub30-references.xhtml#refNVDL" title="ISO/IEC 19757-4: NVDL (Namespace-based Validation Dispatching Language)">[<abbr>NVDL</abbr>]</a>, <a class="biblioref" href="epub30-references.xhtml#refRelaxNG" title="ISO/IEC 19757-2: Regular-grammar-based validation — RELAX NG. Second Edition">[<abbr>RelaxNG</abbr>]</a> and <a class="biblioref" href="epub30-references.xhtml#refISOSchematron" title="ISO/IEC 19757-3: Rule-based validation — Schematron">[<abbr>ISOSchematron</abbr>]</a>. </p><p>Note, however, that the NVDL schema layer can be substituted by a multi-pass validation using the embedded RELAX NG and ISO Schematron schemas alone.</p></div><section class="section" title="A.1 XHTML Content Document Schema" id="app-xhtml-schema"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-xhtml-schema">›</a> </span>A.1 XHTML Content Document Schema</h3><p>The schema for XHTML Content Documents is available at <a href="http://idpf.org/epub/30/schema/epub-xhtml-30.nvdl">http://www.idpf.org/epub/30/schema/epub-xhtml-30.nvdl</a>. </p><p>Note that all <a href="http://www.w3.org/TR/html5/elements.html#embedding-custom-non-visible-data-with-the-data-attributes">custom data attributes</a> (<code class="literal">data-*</code>) must be removed prior to validation.</p></section><section class="section" title="A.2 EPUB Navigation Document Schema" id="app-xhtml-nav-schema"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-xhtml-nav-schema">›</a> </span>A.2 EPUB Navigation Document Schema</h3><p>The schema for EPUB Navigation Documents is available at <a href="http://idpf.org/epub/30/schema/epub-nav-30.nvdl">http://www.idpf.org/epub/30/schema/epub-nav-30.nvdl</a>. </p><p>Note that all <a href="http://www.w3.org/TR/html5/elements.html#embedding-custom-non-visible-data-with-the-data-attributes">custom data attributes</a> (<code class="literal">data-*</code>) must be removed prior to validation.</p></section><section class="section" title="A.3 SVG Content Document Schema" id="app-svg-schema"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-svg-schema">›</a> </span>A.3 SVG Content Document Schema</h3><p>The schema for SVG Content Documents is available at <a href="http://idpf.org/epub/30/schema/epub-svg-30.nvdl">http://www.idpf.org/epub/30/schema/epub-svg-30.nvdl</a>. </p></section></div><div class="appendix" title="Appendix B. JavaScript epubReadingSystem Object" id="app-epubReadingSystem"><div class="titlepage"><div><div><h2 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-epubReadingSystem">›</a> </span>Appendix B. JavaScript epubReadingSystem Object</h2></div></div></div><section class="section" title="B.1 Syntax" id="app-ers-syntax"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-syntax">›</a> </span>B.1 Syntax</h3><p class="syntax"><em>ReadingSystem</em> = navigator.epubReadingSystem;</p></section><section class="section" title="B.2 Description" id="app-ers-desc"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-desc">›</a> </span>B.2 Description</h3><p>The <code>epubReadingSystem</code> object provides an interface through which a <a class="glossterm" href="epub30-terminology.xhtml#gloss-content-document-epub-scripted" title="Scripted Content Document">Scripted Content Document</a> can query information about a <a class="glossterm" href="epub30-terminology.xhtml#gloss-user" title="User">User</a>'s <a class="glossterm" href="epub30-terminology.xhtml#gloss-epub-reading-system" title="EPUB Reading System (or Reading System)">Reading System</a>. </p><p>The object exposes a number of <a href="#app-ers-properties" title="B.3 Properties">properties</a>, about the Reading System, such as its name and version, and provides the <a href="#app-ers-hasFeature" title="B.4.1 hasFeature">hasFeature</a> method which can be invoked to determine the features it supports.</p><div class="informalexample"><p>Example JavaScript function that displays the name of the current Reading System.</p><pre class="synopsis">alert("Reading System name: " + navigator.epubReadingSystem.name);</pre></div></section><section class="section" title="B.3 Properties" id="app-ers-properties"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-properties">›</a> </span>B.3 Properties</h3><p>The following properties must be made available for retrieving information about the Reading System.</p><table id="tbl-epubReadingSystem-properties"><caption>Required epubReadingSystem properties</caption><thead><tr> <th>Name</th> <th>Description</th> </tr></thead><tbody><tr> <td><code class="literal">name</code></td> <td>Returns a <code class="literal">String</code> value representing the name of the Reading System (e.g., <code class="literal">iBooks</code>, <code class="literal">Kindle</code>).</td> </tr><tr> <td><code class="literal">version</code></td> <td>Returns a <code class="literal">String</code> value representing the version of the Reading System (e.g., <code class="literal">1.0</code>, <code class="literal">2.1.1</code>).</td> </tr><tr> <td><code class="literal">layoutStyle</code></td> <td><p>Returns a <code class="literal">String</code> value representing the style of layout for the content.</p> <p>A Reading System will typically return one of the values <code class="literal">paginated</code> or <code class="literal">scrolling</code>, but may define values for any additional layout formats it supports.</p></td> </tr></tbody></table></section><section class="section" title="B.4 Methods" id="app-ers-methods"><h3 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-methods">›</a> </span>B.4 Methods</h3><section class="section" title="B.4.1 hasFeature" id="app-ers-hasFeature"><h4 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-hasFeature">›</a> </span>B.4.1 hasFeature</h4><section class="section" title="B.4.1.1 Syntax" id="app-ers-hasFeature-syntax"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-hasFeature-syntax">›</a> </span>B.4.1.1 Syntax</h5><p class="syntax">hasFeature(feature[, version])</p></section><section class="section" title="B.4.1.2 Description" id="app-ers-hasFeature-desc"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-hasFeature-desc">›</a> </span>B.4.1.2 Description</h5><p>For recognized features, the <code>hasFeature</code> method returns a boolean value indicating whether any version is supported.</p><p>If the optional <code>version</code> parameter is included, the return value indicates support only for the specified version.</p><p>The method returns <code class="literal">undefined</code> if the feature is not recognized by the Reading System.</p><div class="informalexample"><p>Example JavaScript function that displays whether the current Reading System supports scripted manipulation of the DOM.</p><pre class="synopsis">var feature = "dom-manipulation";

var conformTest = navigator.epubReadingSystem.hasFeature(feature);

alert("Feature " + feature + " supported?: " + conformTest);</pre></div></section><section class="section" title="B.4.1.3 Features" id="app-ers-hasFeature-features"><h5 class="title"><span class="link-marker"><a class="hidden-reveal" title="Link here" href="#app-ers-hasFeature-features">›</a> </span>B.4.1.3 Features</h5><p>The following table details the features that must be recognized by all Reading Systems that support scripting (<a href="#sec-scripted-context" title="2.4.1 Scripting Contexts">spine-level</a> or <a href="#sec-scripted-context" title="2.4.1 Scripting Contexts">container-constrained</a>). Reading Systems may support some or all of these features (refer to <a class="xref" href="#sec-scripted-content-rs-reqs" title="2.4.3 Reading System Conformance">Scripted Content Documents — Reading System Conformance</a> for more information).</p><p>Feature names are case-insensitive.</p><table id="tbl-epubReadingSystem-features"><caption>Required epubReadingSystem features</caption><thead><tr> <th>Name</th> <th>Description</th> </tr></thead><tbody><tr> <td id="feature-dom-manipulation"><code class="literal">dom-manipulation</code></td> <td>Scripts may make structural changes to the document’s DOM (applies to spine-level scripting only).</td> </tr><tr> <td id="feature-layout-changes"><code class="literal">layout-changes</code></td> <td>Scripts may modify attributes and CSS styles that affect content layout (applies to spine-level scripting only).</td> </tr><tr> <td id="feature-touch-events"><code class="literal">touch-events</code></td> <td>The device supports touch events and the Reading System passes touch events to the content.</td> </tr><tr> <td id="feature-mouse-events"><code class="literal">mouse-events</code></td> <td>The device supports mouse events and the Reading System passes mouse events to the content.</td> </tr><tr> <td id="feature-keyboard-events"><code class="literal">keyboard-events</code></td> <td>The device supports keyboard events and the Reading System passes keyboard events to the content.</td> </tr><tr> <td id="feature-spine-scripting"><code class="literal">spine-scripting</code></td> <td>Spine-level scripting is supported.</td> </tr></tbody></table><p>If a Reading System supports a feature defined in this section, it must return a <code class="literal">true</code> value both when queried without the version parameter set and when that parameter is set to the value <code class="literal">1.0</code>. Otherwise, it must return false. Reading System developers should not change the version number of these features independently of this specification.</p><p>Additional features may be added by Reading System developers, but future versions of this specification may append to this list in ways that may conflict or be incompatible with any such custom additions.</p></section></section></section></div></body></html>
